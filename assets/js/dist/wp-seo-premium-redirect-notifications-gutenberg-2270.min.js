"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[812],{6252:(e,t,n)=>{var r=n(1609),o=n(6427),i=n(8468),s=n(7723),a=n(3335),c=n(1865),l=n(1802),u=n.n(l),p=n(1455),d=n.n(p);function f(e){return(t,n)=>{if(void 0===t.method||"GET"===t.method)return n(t);const r=void 0===t.parse||t.parse;return n({...t,parse:!1}).then((t=>{let n=null;return t.headers&&"function"==typeof t.headers.get&&(n=t.headers.get("X-Yoast-Redirect-Created")),n&&e(n),t.json&&r?t.json():t})).catch((e=>function(e,t=!0){if(!t)throw e;return(e=>{const t={code:"invalid_json",message:(0,s.__)("The response is not a valid JSON response.")};if(!e||!e.json)throw t;return e.json().catch((()=>{throw t}))})(e).then((e=>{const t={code:"unknown_error",message:(0,s.__)("An unknown error occurred.")};throw e||t}))}(e,r)))}}const m=[];let h=!1;function y(e){var t;t=e.split(";").map((e=>e.split("=").map((e=>e.trim())))).reduce(((e,t)=>{const n=t[0],r=t[1]||!0;return e[n]=r,e}),{}),m.forEach((e=>e(t)))}var w=n(8368);const v=(0,a.makeOutboundLink)(),g=({href:e,children:t})=>(0,r.createElement)(v,{href:e},t);g.defaultProps={children:""},g.propTypes={href:u().string.isRequired,children:u().string};class b extends i.Component{constructor(){super(),this.state={open:!1,loading:!1,parsedHeader:null},this.close=this.close.bind(this),this.undoRedirect=this.undoRedirect.bind(this)}render(){return this.state.open?(0,r.createElement)(o.Modal,{title:(0,s.__)("Redirect created","wordpress-seo-premium"),onRequestClose:this.close,className:"yoast-redirect-notification-modal"},(0,r.createElement)("p",null,(0,s.sprintf)(/* translators: %s expands to Yoast SEO Premium */ /* translators: %s expands to Yoast SEO Premium */
(0,s.__)("%s just created a redirect from the old URL to the new URL.","wordpress-seo-premium"),"Yoast SEO Premium")),(0,r.createElement)("p",{className:"yoast-redirect-notification-modal-url"},(0,c.A)({mixedString:(0,s.sprintf)(/* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */ /* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */
(0,s.__)("Old URL: {{link}}%s{{/link}}","wordpress-seo-premium"),`${window.location.origin}/${this.state.parsedHeader.origin}`),components:{link:(0,r.createElement)(g,{href:"/"+this.state.parsedHeader.origin})}})),(0,r.createElement)("p",{className:"yoast-redirect-notification-modal-url"},(0,c.A)({mixedString:(0,s.sprintf)(/* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */ /* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */
(0,s.__)("New URL: {{link}}%s{{/link}}","wordpress-seo-premium"),`${window.location.origin}/${this.state.parsedHeader.target}`),components:{link:(0,r.createElement)(g,{href:"/"+this.state.parsedHeader.target})}})),(0,r.createElement)("div",{className:"yoast-redirect-notification-modal-buttons"},(0,r.createElement)(o.Button,{className:"yoast-redirect-notification-modal-button",onClick:this.close,isPrimary:!0,disabled:this.state.loading},(0,s.__)("OK","wordpress-seo-premium")),(0,r.createElement)(o.Button,{className:"yoast-redirect-notification-modal-button",onClick:this.undoRedirect,isLink:!0,isDestructive:!0,isBusy:this.state.loading,disabled:this.state.loading},(0,s.__)("Undo","wordpress-seo-premium")))):null}undoRedirect(){const{objectId:e,objectType:t}=this.state.parsedHeader;this.setState({loading:!0},(()=>{(0,w.wpseoUndoRedirectForObject)(e,t).then((()=>{this.close()}))}))}close(){this.setState({open:!1,loading:!1,parsedHeader:null})}componentDidMount(){!function(e){if(!h){const e=f(y);d().use(e),h=!0}m.push(e)}((e=>{this.setState({open:!0,parsedHeader:e})}))}}const _=b;wp.plugins.registerPlugin("yoast-redirect-notification",{render:_})},8368:(e,t,n)=>{n.r(t),n.d(t,{ALLOW_EMPTY_TARGET:()=>i,wpseoCreateRedirect:()=>p,wpseoDeleteRedirect:()=>s,wpseoRemoveNotification:()=>c,wpseoUndoRedirect:()=>l,wpseoUndoRedirectByObjectId:()=>u,wpseoUndoRedirectForObject:()=>a});var r=n(1455),o=n.n(r);const i=[410,451];function s(e,t,n,r="plain"){return o()({method:"POST",url:wpApiSettings.root+"yoast/v1/redirects/delete",headers:{"X-WP-Nonce":wpApiSettings.nonce},data:{origin:e,target:t,type:n,format:r}})}function a(e,t){return o()({method:"POST",url:wpApiSettings.root+"yoast/v1/redirects/undo-for-object",headers:{"X-WP-Nonce":wpApiSettings.nonce},data:{obj_id:e,obj_type:t}})}function c(e){jQuery(e).closest(".yoast-notification").fadeOut("slow")}function l(e,t,n,r,o){s(e,t,n).then((e=>{!0===e.success&&c(o)}))}function u(e,t,n){a(e,t).then((e=>{!0===e.success&&c(n)}))}function p(e,t,n,r){var o="";410===parseInt(t,10)||""!==(o=window.prompt(wpseoPremiumStrings.enter_new_url.replace("%s",e)))?jQuery.post(ajaxurl,{action:"wpseo_add_redirect_plain",ajax_nonce:n,redirect:{origin:e,target:o,type:t}},(function(e){var n=jQuery(r).closest(".yoast-notification");if(jQuery(n).removeClass("updated").removeClass("error"),jQuery(n).find(".redirect_error").remove(),e.error)jQuery(n).addClass("error").prepend('<p class="redirect_error">'+e.error.message+"</p>");else{var o="";o=(o=410===parseInt(t,10)?_.escape(wpseoPremiumStrings.redirect_saved_no_target):wpseoPremiumStrings.redirect_saved.replace("%2$s","<code>"+_.escape(e.target)+"</code>")).replace("%1$s","<code>"+_.escape(e.origin)+"</code>"),jQuery(n).addClass("updated").html("<p>"+o+"</p>")}}),"json"):window.alert(wpseoPremiumStrings.error_new_url)}},1865:(e,t,n)=>{var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=a(n(1609)),i=a(n(8848)),s=a(n(4812));function a(e){return e&&e.__esModule?e:{default:e}}var c=void 0;function l(e,t){var n,s,a,u,p,d,f,m,h=[],y={};for(d=0;d<e.length;d++)if("string"!==(p=e[d]).type){if(!t.hasOwnProperty(p.value)||void 0===t[p.value])throw new Error("Invalid interpolation, missing component node: `"+p.value+"`");if("object"!==r(t[p.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+p.value+"`","\n> "+c);if("componentClose"===p.type)throw new Error("Missing opening component token: `"+p.value+"`");if("componentOpen"===p.type){n=t[p.value],a=d;break}h.push(t[p.value])}else h.push(p.value);return n&&(u=function(e,t){var n,r,o=t[e],i=0;for(r=e+1;r<t.length;r++)if((n=t[r]).value===o.value){if("componentOpen"===n.type){i++;continue}if("componentClose"===n.type){if(0===i)return r;i--}}throw new Error("Missing closing component token `"+o.value+"`")}(a,e),f=l(e.slice(a+1,u),t),s=o.default.cloneElement(n,{},f),h.push(s),u<e.length-1&&(m=l(e.slice(u+1),t),h=h.concat(m))),1===h.length?h[0]:(h.forEach((function(e,t){e&&(y["interpolation-child-"+t]=e)})),(0,i.default)(y))}t.A=function(e){var t=e.mixedString,n=e.components,o=e.throwErrors;if(c=t,!n)return t;if("object"!==(void 0===n?"undefined":r(n))){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var i=(0,s.default)(t);try{return l(i,n)}catch(e){if(o)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},4812:e=>{function t(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(t)}},8848:(e,t,n)=>{var r=n(1609),o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(3650),s=n(1163),a=n(5759),c=".",l=":",u="function"==typeof Symbol&&Symbol.iterator,p="@@iterator";function d(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,r={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function f(e,t,n,r){var i,a=typeof e;if("undefined"!==a&&"boolean"!==a||(e=null),null===e||"string"===a||"number"===a||"object"===a&&e.$$typeof===o)return n(r,e,""===t?c+d(e,0):t),1;var m=0,h=""===t?c:t+l;if(Array.isArray(e))for(var y=0;y<e.length;y++)m+=f(i=e[y],h+d(i,y),n,r);else{var w=function(e){var t=e&&(u&&e[u]||e[p]);if("function"==typeof t)return t}(e);if(w)for(var v,g=w.call(e),b=0;!(v=g.next()).done;)m+=f(i=v.value,h+d(i,b++),n,r);else if("object"===a){var _=""+e;s(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===_?"object with keys {"+Object.keys(e).join(", ")+"}":_,"")}}return m}var m=/\/+/g;function h(e){return(""+e).replace(m,"$&/")}var y,w,v=g,g=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)};function b(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function _(e,t,n){var o,s,a=e.result,c=e.keyPrefix,l=e.func,u=e.context,p=l.call(u,t,e.count++);Array.isArray(p)?j(p,a,n,i.thatReturnsArgument):null!=p&&(r.isValidElement(p)&&(o=p,s=c+(!p.key||t&&t.key===p.key?"":h(p.key)+"/")+n,p=r.cloneElement(o,{key:s},void 0!==o.props?o.props.children:void 0)),a.push(p))}function j(e,t,n,r,o){var i="";null!=n&&(i=h(n)+"/");var s=b.getPooled(t,i,r,o);!function(e,t,n){null==e||f(e,"",t,n)}(e,_,s),b.release(s)}b.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},y=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},(w=b).instancePool=[],w.getPooled=y||v,w.poolSize||(w.poolSize=10),w.release=function(e){var t=this;s(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(r.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;s(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)j(e[n],t,n,i.thatReturnsArgument);return t}},3650:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},1163:e=>{e.exports=function(e,t,n,r,o,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,s,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},5759:(e,t,n)=>{var r=n(3650);e.exports=r},1609:e=>{e.exports=window.React},1455:e=>{e.exports=window.wp.apiFetch},6427:e=>{e.exports=window.wp.components},8468:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n},3335:e=>{e.exports=window.yoast.helpers},1802:e=>{e.exports=window.yoast.propTypes}},e=>{e(e.s=6252)}]);