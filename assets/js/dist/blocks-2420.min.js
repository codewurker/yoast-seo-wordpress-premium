(()=>{"use strict";var e={865:(e,t,n)=>{var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(n(609)),s=a(n(848)),i=a(n(812));function a(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function u(e,t){var n,i,a,c,d,p,g,m,h=[],f={};for(p=0;p<e.length;p++)if("string"!==(d=e[p]).type){if(!t.hasOwnProperty(d.value)||void 0===t[d.value])throw new Error("Invalid interpolation, missing component node: `"+d.value+"`");if("object"!==o(t[d.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+d.value+"`","\n> "+l);if("componentClose"===d.type)throw new Error("Missing opening component token: `"+d.value+"`");if("componentOpen"===d.type){n=t[d.value],a=p;break}h.push(t[d.value])}else h.push(d.value);return n&&(c=function(e,t){var n,o,r=t[e],s=0;for(o=e+1;o<t.length;o++)if((n=t[o]).value===r.value){if("componentOpen"===n.type){s++;continue}if("componentClose"===n.type){if(0===s)return o;s--}}throw new Error("Missing closing component token `"+r.value+"`")}(a,e),g=u(e.slice(a+1,c),t),i=r.default.cloneElement(n,{},g),h.push(i),c<e.length-1&&(m=u(e.slice(c+1),t),h=h.concat(m))),1===h.length?h[0]:(h.forEach((function(e,t){e&&(f["interpolation-child-"+t]=e)})),(0,s.default)(f))}t.A=function(e){var t=e.mixedString,n=e.components,r=e.throwErrors;if(l=t,!n)return t;if("object"!==(void 0===n?"undefined":o(n))){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var s=(0,i.default)(t);try{return u(s,n)}catch(e){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},812:e=>{function t(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(t)}},848:(e,t,n)=>{var o=n(609),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,s=n(650),i=n(163),a=n(759),l=".",u=":",c="function"==typeof Symbol&&Symbol.iterator,d="@@iterator";function p(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,o={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return o[e]}))):t.toString(36);var n,o}function g(e,t,n,o){var s,a=typeof e;if("undefined"!==a&&"boolean"!==a||(e=null),null===e||"string"===a||"number"===a||"object"===a&&e.$$typeof===r)return n(o,e,""===t?l+p(e,0):t),1;var m=0,h=""===t?l:t+u;if(Array.isArray(e))for(var f=0;f<e.length;f++)m+=g(s=e[f],h+p(s,f),n,o);else{var b=function(e){var t=e&&(c&&e[c]||e[d]);if("function"==typeof t)return t}(e);if(b)for(var y,w=b.call(e),v=0;!(y=w.next()).done;)m+=g(s=y.value,h+p(s,v++),n,o);else if("object"===a){var k=""+e;i(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===k?"object with keys {"+Object.keys(e).join(", ")+"}":k,"")}}return m}var m=/\/+/g;function h(e){return(""+e).replace(m,"$&/")}var f,b,y=w,w=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)};function v(e,t,n,o){this.result=e,this.keyPrefix=t,this.func=n,this.context=o,this.count=0}function k(e,t,n){var r,i,a=e.result,l=e.keyPrefix,u=e.func,c=e.context,d=u.call(c,t,e.count++);Array.isArray(d)?x(d,a,n,s.thatReturnsArgument):null!=d&&(o.isValidElement(d)&&(r=d,i=l+(!d.key||t&&t.key===d.key?"":h(d.key)+"/")+n,d=o.cloneElement(r,{key:i},void 0!==r.props?r.props.children:void 0)),a.push(d))}function x(e,t,n,o,r){var s="";null!=n&&(s=h(n)+"/");var i=v.getPooled(t,s,o,r);!function(e,t,n){null==e||g(e,"",t,n)}(e,k,i),v.release(i)}v.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f=function(e,t,n,o){var r=this;if(r.instancePool.length){var s=r.instancePool.pop();return r.call(s,e,t,n,o),s}return new r(e,t,n,o)},(b=v).instancePool=[],b.getPooled=f||y,b.poolSize||(b.poolSize=10),b.release=function(e){var t=this;i(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(o.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;i(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)x(e[n],t,n,s.thatReturnsArgument);return t}},650:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},163:e=>{e.exports=function(e,t,n,o,r,s,i,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,r,s,i,a],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},759:(e,t,n)=>{var o=n(650);e.exports=o},609:e=>{e.exports=window.React}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.lodash;var t=n(609);const o=window.wp.blocks,r=window.wp.blockEditor,s=window.wp.components,i=window.wp.data,a=window.wp.domReady;var l=n.n(a);const u=window.wp.element,c=window.wp.i18n,d=window.wp.a11y,p=window.wp.url,g=window.yoast.helpers;var m=n(865);const h=window.yoast.propTypes;var f=n.n(h);const b=window.yoast.styledComponents;var y=n.n(b);const w=window.yoast.componentsNew,v=window.yoast.styleGuide,k=y().div`
	display: flex;
	align-items: normal;
	min-height: 40px;
	margin: 10px 0 5px;
`,x=(0,g.createSvgIconComponent)({copy:{viewbox:"0 0 448 512",path:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},check:{viewbox:"0 0 512 512",path:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}),E=y().div`
	background-color: #e5e5e5;
	width: 100%;
	height: 1px;
`,_=y().button`
	box-sizing: border-box;
	flex: 0 0 30px;
	height: 30px;
	width: 30px;
	background-color: ${e=>e.iconBackground};
	border-radius: 5px;
	cursor: pointer;
	outline: none;
	border: 1px solid ${e=>e.iconBorder};
	margin-left: 3px;

	&:focus {
		box-shadow: 0 0 0 1px #5b9dd9, 0 0 2px 1px rgba(30, 140, 190, 0.8);
	}
`;_.props={iconBackground:f().string,iconBorder:f().string},_.defaultProps={iconBackground:v.colors.$color_button,iconBorder:v.colors.$color_button_border};const R=y().div`
	flex: auto;
`,A=(0,g.makeOutboundLink)(y().a`
	text-overflow: ellipsis;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	/* -webkit-box-orient: vertical; */
	/* -moz-box-orient: vertical; */
	max-height: 40px;
	margin-bottom: 4px;
	-webkit-box-orient: vertical;
	overflow: hidden;
	padding: 0 0 4px;
`),S=y().div`
	flex-wrap: wrap;
	display: flex;
	flex-direction: row;
	justify-content: unset;
	margin-top: 4px;
`,B=y().span`
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	text-align: center;
	padding: 3px 8px;
	font-size: 0.85em;
	background-color: #f3f4f5;
	border-radius: 2px;
	margin-bottom: 4px;
	margin-right: 4px;
	text-transform: lowercase;
`,T=({badges:e})=>(0,t.createElement)(S,null,e.map(((e,n)=>(0,t.createElement)(B,{key:n},e))));T.propTypes={badges:f().array.isRequired};const q=({value:e,url:n,isActive:o,labels:r})=>{const s=(0,c.__)("Copy link","wordpress-seo-premium"),i=(0,c.sprintf)(/* translators: Hidden accessibility text; %s expands to the link value */ /* translators: Hidden accessibility text; %s expands to the link value */
(0,c.__)("Copy link to suggested article: %s","wordpress-seo-premium"),e),a=(0,u.useCallback)((e=>{e.nativeEvent.target.setAttribute("aria-label",i),e.nativeEvent.target.setAttribute("data-label",s)}),[i,s]);let l="copy",d=v.colors.$color_black,p=v.colors.$color_button,g="#979797";return o&&(l="check",d=v.colors.$color_alert_success_text,p=v.colors.$color_alert_success_background,g=v.colors.$color_alert_success_background),(0,t.createElement)("div",null,(0,t.createElement)(E,null),(0,t.createElement)(k,{className:"yoast-link-suggestion__wrapper"},(0,t.createElement)(R,{className:"yoast-link-suggestion__container"},(0,t.createElement)(A,{href:n},e),(0,t.createElement)(T,{badges:r})),(0,t.createElement)(_,{type:"button",className:"yoast-link-suggestion__copy yoast-tooltip yoast-tooltip-alt yoast-tooltip-s",onBlur:a,"data-clipboard-text":n,"aria-label":i,"data-label":s,iconBackground:p,iconBorder:g},(0,t.createElement)(x,{icon:l,color:d}),(0,t.createElement)(w.ScreenReaderText,null,s))))};q.propTypes={value:f().string.isRequired,url:f().string.isRequired,isActive:f().bool,labels:f().array.isRequired},q.defaultProps={isActive:!1};const L=q;t.forwardRef((function(e,n){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},e),t.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}));const P=window.yoast.uiLibrary;f().string.isRequired,f().shape({src:f().string.isRequired,width:f().string,height:f().string}).isRequired,f().shape({value:f().bool.isRequired,status:f().string.isRequired,set:f().func.isRequired}).isRequired,f().string.isRequired,f().shape({src:f().string.isRequired,width:f().string,height:f().string}).isRequired,f().shape({value:f().bool.isRequired,status:f().string.isRequired,set:f().func.isRequired}).isRequired;const C=({href:e,children:n,...o})=>(0,t.createElement)(P.Link,{target:"_blank",rel:"noopener noreferrer",...o,href:e},n,(0,t.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */ /* translators: Hidden accessibility text. */
(0,c.__)("(Opens in a new browser tab)","wordpress-seo-premium")));C.propTypes={href:f().string.isRequired,children:f().node},C.defaultProps={children:null};window.yoast.reactHelmet;f().string.isRequired,f().shape({src:f().string.isRequired,width:f().string,height:f().string}).isRequired,f().shape({value:f().bool.isRequired,status:f().string.isRequired,set:f().func.isRequired}).isRequired,f().func.isRequired,f().string.isRequired,f().string.isRequired,f().string.isRequired,f().string.isRequired;const M=y().div`
	display: table-cell;
`;let N;const O=e=>{const t=(0,c.__)("Copied!","wordpress-seo-premium");e.trigger.focus(),e.trigger.setAttribute("aria-label",t),e.trigger.setAttribute("data-label",t),(0,d.speak)(t,"assertive")},I=e=>{const t=(0,c.__)("Not supported!","wordpress-seo-premium");e.trigger.el.setAttribute("aria-label",t),e.trigger.setAttribute("data-label",t),(0,d.speak)(t,"assertive")},j=({suggestions:e,maxSuggestions:n,customMessages:o,location:r})=>{const s=function(e){const n=(0,g.makeOutboundLink)(),o=(0,p.addQueryArgs)(wpseoAdminL10n["shortlinks.site_structure_metabox"],{context:e});return(0,m.A)({
// Translators: Text between {{a}} and {{/a}} will be a link to an article about site structure.
mixedString:(0,c.__)("{{a}}Read our guide on internal linking for SEO{{/a}} to learn more.","wordpress-seo-premium"),components:{a:(0,t.createElement)(n,{href:o})}})}(r);return 0===e.length?(0,t.createElement)("div",null,(0,t.createElement)("p",null,""===o.lengthMessage?(0,c.__)("We could not find any relevant articles on your website that you could link to from your post.","wordpress-seo-premium"):o.lengthMessage),(0,t.createElement)("p",null,o.metaMessage),(0,t.createElement)("p",null,s)):(e.length>n&&(e.length=n),(0,t.createElement)(M,null,(0,t.createElement)("p",null,(0,c.__)("To improve your site structure, consider linking to other relevant posts or pages on your website.","wordpress-seo-premium")," ",s),(0,t.createElement)("p",null,o.metaMessage),e.map(((e,n)=>(0,t.createElement)(L,{key:n,...e})))))};j.propTypes={suggestions:f().array.isRequired,maxSuggestions:f().number,customMessages:f().object,location:f().string},j.defaultProps={maxSuggestions:10,customMessages:{lengthMessage:"",metaMessage:""},location:""};const $=()=>{window.open("admin.php?page=wpseo_tools&start-indexation=true","yoastSeoAnalyzeProminentWords")},H=()=>{const e=(0,i.select)("yoast-seo/editor").getPreference("isRtl",!1);return(0,t.createElement)(P.Root,{context:{isRtl:e}},(0,t.createElement)("div",{className:"yst-flex yst-justify-center"},(0,t.createElement)(P.Alert,{variant:"warning",className:"yst-mb-4 yst-mx-0 yst-max-w-2xl"},(0,t.createElement)(P.Title,{as:"span",size:"5",className:"yst-mb-2 yst-text-inherit"},(0,c.__)("Unable to provide linking suggestions","wordpress-seo-premium")),(0,t.createElement)("p",{className:"yst-mt-0 yst-mb-3"},(0,u.createInterpolateElement)((0,c.sprintf)(/* translators: %1$s expands to an opening tag. %2$s expands to a closing tag. */ /* translators: %1$s expands to an opening tag. %2$s expands to a closing tag. */
(0,c.__)("We need to optimize your site’s SEO data so we can offer you the best %1$slinking suggestions%2$s.","wordpress-seo-premium"),"<a>","</a>"),{a:(0,t.createElement)(C,{href:wpseoAdminL10n["shortlinks.notification_internal_link"]})})),(0,t.createElement)(P.Button,{variant:"secondary",onClick:$},(0,c.__)("Start SEO data optimization","wordpress-seo-premium")))))},F=e=>{if((0,u.useEffect)((()=>(e.suggester.subscribe(),()=>{e.suggester.unsubscribe()})),[]),e.isLoading)return(0,t.createElement)("div",{className:"yoast-link-suggestions"},(0,t.createElement)("p",null,(0,c.__)("It takes a few seconds to show you a list of related content to which you could link. The suggestions will be shown here as soon as we have them.","wordpress-seo-premium")));N||(N=new ClipboardJS(".yoast-link-suggestion__copy"),N.on("success",O),N.on("error",I));let n=null;e.showUnindexedWarning&&(n=H());const o=(e=>{let t="";e.hasWordsForLinking||(t=(0,c.__)("Once you add a bit more copy, we'll give you a list of related content here to which you could link in your post.","wordpress-seo-premium"));const n=((e,t,n)=>{switch(!0){case n&&!t&&""===e:return(0,c.__)("Add a title to your post for the best internal linking suggestions.","wordpress-seo-premium");case!n&&t&&""===e:return(0,c.__)("Add a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium");case!n&&!t&&""===e:return(0,c.__)("Add a title and a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium");case n&&!t&&""!==e:return(0,c.__)("Also, add a title to your post for the best internal linking suggestions.","wordpress-seo-premium");case!n&&t&&""!==e:return(0,c.__)("Also, add a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium");case!n&&!t&&""!==e:return(0,c.__)("Also, add a title and a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium")}})(t,e.hasTitle,e.hasMetaDescription);return{lengthMessage:t,metaMessage:n}})({...e.messageData,hasWordsForLinking:Array.isArray(e.wordsForLinking)&&e.wordsForLinking.length>0});return(0,t.createElement)("div",{className:"yoast-link-suggestions"},n,(0,t.createElement)(j,{suggestions:e.suggestions,customMessages:o,location:e.location}))};function z(e,t){for(const n of e)t(n),n.innerBlocks&&z(n.innerBlocks,t)}F.propTypes={suggester:f().object,suggestions:f().array.isRequired,wordsForLinking:f().array,messageData:f().object,isLoading:f().bool.isRequired,showUnindexedWarning:f().bool,location:f().string},F.defaultProps={suggester:null,showUnindexedWarning:!1,messageData:{hasMetaDescription:!1,hasTitle:!1},wordsForLinking:[],location:""};const D=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"version":"23.0","name":"yoast-seo/related-links","title":"Yoast Related Links","description":"Adds a list of links related to this page.","category":"yoast-internal-linking-blocks","icon":"editor-ul","keywords":["SEO","internal linking","site structure","related posts","related pages"],"textdomain":"wordpress-seo-premium","attributes":{"status":{"type":"string","default":"loading"},"values":{"type":"string","source":"html","selector":"ul","multiline":"li","default":""}},"example":{"attributes":{"status":"loaded","values":"<li><a href=\'https://example.org\'>Related link 1</a></li> <li><a href=\'https://example.org\'>Related link 2</a></li> <li><a href=\'https://example.org\'>Related link 3</a></li>"}}}');const W=window.yoast.editorModules.helpers.createInterpolateElement;function V(e,t,n,o){t!==n&&o(e,{status:t})}function U(t){if(!(0,i.select)("yoast-seo-premium/editor"))return void setTimeout(U.bind(null,t),500);(0,e.get)(YoastSEO,"analysis.linkSuggester")&&YoastSEO.analysis.linkSuggester.update();const{linkSuggestionsAreLoading:n}=(0,i.select)("yoast-seo-premium/editor"),{getBlockAttributes:o}=(0,i.select)("core/block-editor"),r=o(t);"loaded"!==r.status&&(n()?setTimeout(U.bind(null,t),500):function(e,t){const{linkSuggestionsAreUnindexed:n,getLinkSuggestions:o,getWordsForLinking:r}=(0,i.select)("yoast-seo-premium/editor"),{updateBlockAttributes:s}=(0,i.dispatch)("core/block-editor");if(n())return void V(e,"unindexed",t.status,s);const a=r();if(!Array.isArray(a)||0===a.length)return void V(e,"no-content",t.status,s);const l=o();0!==l.length?"loading"===t.status?s(e,{values:l.map((e=>`<li><a href="${e.url}">${e.value}</a></li>`)).join(""),status:"loaded"}):V(e,"has-suggestions",t.status,s):V(e,"no-suggestions",t.status,s)}(t,r))}function Y(e,n="warning",o){const r=`notice notice-${n} notice-alt wpseo-notice-breakout-inside yoast-links-suggestions-notice`;return(0,t.createElement)("div",{...o,className:r},(0,t.createElement)("p",null,e))}function G(){return(0,i.select)("yoast-seo-premium/editor")?(0,i.select)("yoast-seo-premium/editor").getLinkSuggestions():null}function J(){return(0,i.select)("yoast-seo-premium/editor")?(0,i.select)("yoast-seo-premium/editor").getWordsForLinking():null}const Q=window.wp.hooks,K=window.yoast.analysis,X=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"version":"23.1","name":"yoast-seo/table-of-contents","title":"Yoast Table of Contents","description":"Adds a table of contents to this page.","category":"yoast-internal-linking-blocks","icon":"editor-ul","keywords":["SEO","links","toc","site structure"],"textdomain":"wordpress-seo-premium","attributes":{"title":{"type":"string","source":"html","selector":"h1,h2,h3,h4,h5,h6","default":"Table of contents"},"level":{"type":"number","default":2},"maxHeadingLevel":{"type":"number","default":3},"headings":{"type":"array","source":"query","selector":"a","query":{"content":{"type":"string","source":"html"},"href":{"type":"string","source":"attribute","attribute":"href"},"level":{"type":"string","source":"attribute","attribute":"data-level"}}}},"example":{"attributes":{"headings":[{"content":"Heading 1","href":"#heading-1","level":"2"},{"content":"Subheading 1","href":"#subheading-1","level":"3"},{"content":"Subheading 2","href":"#subheading-2","level":"3"},{"content":"Heading 2","href":"#heading-2","level":"2"}]}}}'),{stripHTMLTags:Z}=K.languageProcessing,ee=(t,n)=>{const r=`h-${function(t){const n=new RegExp("[^\\p{L}\\p{N}]+","gu");return(0,e.trim)((0,e.deburr)(Z(t)).replace(n,"-").toLowerCase(),"-")}((0,o.getBlockContent)(t))}`;let s=r,i=0;for(;n.includes(s);)s=`${r}-${i}`,i++;return s};const te=e=>{const t=[];return z(e,(e=>{"core/heading"===e.name&&t.push(e.attributes.anchor)})),t};function ne(e,t){let n=e;for(;n&&n.level>=t;)n=n.parent;return n}function oe(e){const n=e.map((e=>{let n=null;return e.children&&e.children.length>0&&(n=oe(e.children)),(0,t.createElement)("li",{key:e.href},(0,t.createElement)("a",{href:e.href,"data-level":e.level},e.content),n)}));return(0,t.createElement)("ul",null,n)}function re(e,t=99){return e&&0!==e.length?oe(e=function(e){const t=[];let n;for(const o of e){const e=parseInt(o.level,10),r={children:[],parent:null,...o,level:e},s=ne(n,e);s?(r.parent=s,s.children.push(r)):t.push(r),n=r}return t}(e=e.filter((e=>e.level<=t)))):null}(0,Q.addFilter)("blocks.switchToBlockType.transformedBlock","yoast-seo-table-of-contents/transformed-block",(t=>{if((0,e.isNil)(t.attributes.anchor)&&"core/heading"===t.name){const e=(0,i.select)("core/block-editor").getBlocks(),n=te(e);t.attributes.anchor=ee(t,n)}return t})),l()((()=>{window.wpseoPremiumMetaboxData?function(){let t=(0,i.select)("core/block-editor").getBlocks(),n=J(),o=G();(0,i.subscribe)((()=>{const r=(0,i.select)("core/block-editor").getBlocks(),s=J(),a=G(),l=!(0,e.isEqual)(t,r),u=!(0,e.isEqual)(n,s),c=!(0,e.isEqual)(o,a);(l||u||c)&&z(r,(e=>{"yoast-seo/related-links"===e.name&&(l&&"loading"===e.attributes.status?U(e.clientId):(u&&"no-content"===e.attributes.status&&U(e.clientId),c&&"loaded"!==e.attributes.status&&U(e.clientId)))})),t=r,n=s,o=a}))}():(0,o.unregisterBlockType)("yoast-seo/related-links")})),(0,o.registerBlockType)(D,{edit:function({clientId:e,attributes:n,setAttributes:a}){const{status:l}=n,d=()=>{a({status:"loading"}),U(e)};(0,u.useEffect)((()=>{"loaded"!==l&&d()}),[]),function(e,t){const n=(0,i.useRegistry)(),{updateBlockAttributes:r,replaceInnerBlocks:s}=(0,i.dispatch)("core/block-editor");(0,u.useEffect)((()=>{if(!e.values)return;const[i,a]=function(e){const{values:t,...n}=e,r=document.createElement("ul");r.innerHTML=t;const[s]=(0,o.rawHandler)({HTML:r.outerHTML});return[{...n,...s.attributes},s.innerBlocks]}(e);n.batch((()=>{r(t,i),s(t,a)}))}),[e.values])}(n,e);const p=(0,r.useBlockProps)(),g=(0,r.useInnerBlocksProps)(p,{allowedBlocks:["core/list-item"],templateLock:!1,templateInsertUpdatesSelection:!0});if(!(window.wpseoPremiumMetaboxData.data.restApi.available&&window.wpseoPremiumMetaboxData.data.restApi.contentEndpointsAvailable&&"enabled"===window.wpseoPremiumMetaboxData.data.linkSuggestionsEnabled&&window.wpseoPremiumMetaboxData.data.linkSuggestionsAvailable)&&"loaded"!==l)return Y(W((0,c.__)("You have disabled Link suggestions, which is needed for Related links to work. If you want to add Related links, please go to <a>Site features</a> and enable Link suggestions.","wordpress-seo-premium"),{a:(0,t.createElement)("a",{href:wpseoPremiumMetaboxData.data.settingsPageUrl,target:"_blank"},"#21441-gutenberg")}),"error",p);if("loaded"!==l)return function(e,n,o){if("unindexed"===e)return H();let r=(0,c.__)("We could not find any relevant articles on your website that you could link to from your post.","wordpress-seo-premium");return"no-content"===e&&(r=(0,c.__)("Once you add a bit more copy, we'll give you a list of related content here to which you could link in your post.","wordpress-seo-premium")),"loading"===e&&(r=(0,c.__)("It takes a few seconds to show you a list of related content to which you could link. The suggestions will be shown here as soon as we have them.","wordpress-seo-premium")),"has-suggestions"===e&&(r=(0,t.createElement)(u.Fragment,null,r,(0,t.createElement)("br",null),(0,t.createElement)("br",null),(0,t.createElement)("button",{type:"button",className:"button",onClick:n},(0,c.__)("Load suggestions","wordpress-seo-premium")))),Y(r,"warning",o)}(l,d,p);const m=(0,t.createElement)(r.BlockControls,null,(0,t.createElement)(s.ToolbarGroup,{controls:[{icon:"image-rotate",title:(0,c.__)("Refresh suggestions","wordpress-seo-premium"),isActive:!1,onClick:d}]}));return(0,t.createElement)(u.Fragment,null,(0,t.createElement)("ul",{...g}),m)},save:function({attributes:e}){if("loaded"!==e.status)return null;const n=r.useBlockProps.save({className:"yoast-seo-related-links"}),o=r.useInnerBlocksProps.save(n);return(0,t.createElement)("ul",{...o})},deprecated:[{attributes:{status:{type:"string",default:"loading"},values:{type:"string",source:"html",selector:"ul",multiline:"li",default:""}},save:({attributes:e})=>"loaded"!==e.status?null:(0,t.createElement)(r.RichText.Content,{tagName:"ul",multiline:"li",value:e.values})}]}),(0,e.get)(window,"wpseoTOCData.data.disableTableOfContents",!1)||(l()((()=>{!function(){let t=null,n="",r=!1,s=[];const a={};(0,i.subscribe)((()=>{if(r)return;const l=(0,i.select)("core/block-editor").getBlocks(),u=[];if(t!==l){const t=[],c=[];let d="";r=!0;const p=te(l).every((t=>(0,e.isUndefined)(t)));z(l,(n=>{if("core/heading"===n.name){const l=Z((0,o.getBlockContent)(n)),c=n.attributes.level,g=function(t,n,r,s,a){let l=t.attributes.anchor;const u=n[t.clientId],c=Z((0,o.getBlockContent)(t));return u&&u===c||l&&!l.startsWith("h-")||(l=function(t,n,r,s){return!(0,e.isNil)(t.attributes.anchor)||s||(0,e.isEmpty)((0,o.getBlockContent)(t))||r.includes(t.clientId)?ee(t,n):""}(t,r,s,a),l!==t.attributes.anchor&&(0,i.dispatch)("core/block-editor").updateBlockAttributes(t.clientId,{anchor:l})),l}(n,a,u,s,p);if(a[n.clientId]=l,""===g||(0,e.isEmpty)(l))return;u.push(g),t.push({content:(r=l,(new DOMParser).parseFromString(r,"text/html").documentElement.textContent),href:"#"+g,level:c}),d+="$"+c+":"+g+":"+l}else c.push(n.clientId);var r})),z(l,(e=>{if("yoast-seo/table-of-contents"===e.name){const o=e.attributes.headings&&e.attributes.headings.length>0;(n!==d||t.length>0&&!o)&&(0,i.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{headings:t})}})),r=!1,n=d,s=c}t=l}))}()})),X.attributes&&X.attributes.title&&X.attributes.title.default&&(X.attributes.title.default=(0,c.__)("Table of contents","wordpress-seo-premium")),(0,o.registerBlockType)(X,{edit:function({attributes:e,setAttributes:n}){const o=(0,u.useCallback)((e=>n({title:e})),[n]),i=(0,u.useCallback)((e=>n({level:e})),[n]),a=(0,u.useCallback)((e=>n({maxHeadingLevel:Number(e)})),[n]),l=(0,r.useBlockProps)({className:"yoast-table-of-contents"});return(0,t.createElement)(u.Fragment,null,(0,t.createElement)(r.BlockControls,null,(0,t.createElement)(s.ToolbarGroup,null,(0,t.createElement)(r.HeadingLevelDropdown,{value:e.level,options:[1,2,3,4,5,6],onChange:i}))),(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(s.PanelBody,{title:(0,c.__)("Settings","wordpress-seo-premium"),className:"yoast-table-of-contents-controls"},(0,t.createElement)(s.SelectControl,{label:(0,c.__)("Maximum heading level","wordpress-seo-premium"),value:e.maxHeadingLevel,options:[1,2,3,4,5,6].map((e=>({label:(0,c.sprintf)((0,c.__)("Heading %d"),e),value:e}))),onChange:a}))),(0,t.createElement)("div",{...l},(0,t.createElement)(r.RichText,{tagName:"h"+e.level,value:e.title,onChange:o}),re(e.headings,e.maxHeadingLevel)))},save:function({attributes:e}){let n=null;e.title&&(n=(0,t.createElement)(r.RichText.Content,{tagName:"h"+e.level,value:e.title}));const o=r.useBlockProps.save({className:"yoast-table-of-contents"});return(0,t.createElement)("div",{...o},n,re(e.headings,e.maxHeadingLevel))},deprecated:[{attributes:{title:{type:"string",source:"html",selector:"h2",default:(0,c.__)("Table of contents","wordpress-seo-premium")},level:{type:"number",default:2},headings:{type:"array",source:"query",selector:"a",query:{content:{type:"string",source:"html"},href:{type:"string",source:"attribute",attribute:"href"},level:{type:"string",source:"attribute",attribute:"data-level"}}}},migrate:e=>({maxHeadingLevel:6,...e}),save:({attributes:e})=>{let n=null;return e.title&&(n=(0,t.createElement)(r.RichText.Content,{tagName:"h"+e.level,value:e.title})),(0,t.createElement)("div",{className:"yoast-table-of-contents"},n,re(e.headings))}}]}))})()})();