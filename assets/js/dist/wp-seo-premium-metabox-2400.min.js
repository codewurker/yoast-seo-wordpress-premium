(()=>{"use strict";var e={865:(e,t,s)=>{var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(s(609)),o=i(s(848)),a=i(s(812));function i(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function c(e,t){var s,a,i,u,d,y,p,m,g=[],h={};for(y=0;y<e.length;y++)if("string"!==(d=e[y]).type){if(!t.hasOwnProperty(d.value)||void 0===t[d.value])throw new Error("Invalid interpolation, missing component node: `"+d.value+"`");if("object"!==n(t[d.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+d.value+"`","\n> "+l);if("componentClose"===d.type)throw new Error("Missing opening component token: `"+d.value+"`");if("componentOpen"===d.type){s=t[d.value],i=y;break}g.push(t[d.value])}else g.push(d.value);return s&&(u=function(e,t){var s,n,r=t[e],o=0;for(n=e+1;n<t.length;n++)if((s=t[n]).value===r.value){if("componentOpen"===s.type){o++;continue}if("componentClose"===s.type){if(0===o)return n;o--}}throw new Error("Missing closing component token `"+r.value+"`")}(i,e),p=c(e.slice(i+1,u),t),a=r.default.cloneElement(s,{},p),g.push(a),u<e.length-1&&(m=c(e.slice(u+1),t),g=g.concat(m))),1===g.length?g[0]:(g.forEach((function(e,t){e&&(h["interpolation-child-"+t]=e)})),(0,o.default)(h))}t.A=function(e){var t=e.mixedString,s=e.components,r=e.throwErrors;if(l=t,!s)return t;if("object"!==(void 0===s?"undefined":n(s))){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var o=(0,a.default)(t);try{return c(o,s)}catch(e){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},812:e=>{function t(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(t)}},848:(e,t,s)=>{var n=s(609),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=s(650),a=s(163),i=s(759),l=".",c=":",u="function"==typeof Symbol&&Symbol.iterator,d="@@iterator";function y(e,t){return e&&"object"==typeof e&&null!=e.key?(s=e.key,n={"=":"=0",":":"=2"},"$"+(""+s).replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var s,n}function p(e,t,s,n){var o,i=typeof e;if("undefined"!==i&&"boolean"!==i||(e=null),null===e||"string"===i||"number"===i||"object"===i&&e.$$typeof===r)return s(n,e,""===t?l+y(e,0):t),1;var m=0,g=""===t?l:t+c;if(Array.isArray(e))for(var h=0;h<e.length;h++)m+=p(o=e[h],g+y(o,h),s,n);else{var w=function(e){var t=e&&(u&&e[u]||e[d]);if("function"==typeof t)return t}(e);if(w)for(var k,f=w.call(e),b=0;!(k=f.next()).done;)m+=p(o=k.value,g+y(o,b++),s,n);else if("object"===i){var E=""+e;a(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===E?"object with keys {"+Object.keys(e).join(", ")+"}":E,"")}}return m}var m=/\/+/g;function g(e){return(""+e).replace(m,"$&/")}var h,w,k=f,f=function(e){var t=this;if(t.instancePool.length){var s=t.instancePool.pop();return t.call(s,e),s}return new t(e)};function b(e,t,s,n){this.result=e,this.keyPrefix=t,this.func=s,this.context=n,this.count=0}function E(e,t,s){var r,a,i=e.result,l=e.keyPrefix,c=e.func,u=e.context,d=c.call(u,t,e.count++);Array.isArray(d)?S(d,i,s,o.thatReturnsArgument):null!=d&&(n.isValidElement(d)&&(r=d,a=l+(!d.key||t&&t.key===d.key?"":g(d.key)+"/")+s,d=n.cloneElement(r,{key:a},void 0!==r.props?r.props.children:void 0)),i.push(d))}function S(e,t,s,n,r){var o="";null!=s&&(o=g(s)+"/");var a=b.getPooled(t,o,n,r);!function(e,t,s){null==e||p(e,"",t,s)}(e,E,a),b.release(a)}b.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h=function(e,t,s,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,s,n),o}return new r(e,t,s,n)},(w=b).instancePool=[],w.getPooled=h||k,w.poolSize||(w.poolSize=10),w.release=function(e){var t=this;a(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return i(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(n.isValidElement(e))return i(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;a(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var s in e)S(e[s],t,s,o.thatReturnsArgument);return t}},650:e=>{function t(e){return function(){return e}}var s=function(){};s.thatReturns=t,s.thatReturnsFalse=t(!1),s.thatReturnsTrue=t(!0),s.thatReturnsNull=t(null),s.thatReturnsThis=function(){return this},s.thatReturnsArgument=function(e){return e},e.exports=s},163:e=>{e.exports=function(e,t,s,n,r,o,a,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,n,r,o,a,i],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},759:(e,t,s)=>{var n=s(650);e.exports=n},609:e=>{e.exports=window.React}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,s),o.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};s.r(e),s.d(e,{ADD_RELATED_KEYWORD:()=>j,CHANGE_RELATED_KEYWORD:()=>Y,LOAD_LINK_SUGGESTIONS:()=>v,LOAD_MORPHOLOGY_DATA:()=>F,LOAD_MORPHOLOGY_DATA_ERROR:()=>D,REMOVE_RELATED_KEYWORD:()=>N,SET_LINK_SUGGESTIONS:()=>_,SET_LINK_SUGGESTIONS_ERROR:()=>L,SET_MESSAGE_DATA:()=>x,SET_PROMINENT_WORDS:()=>lt,SET_RELATED_KEYWORDS:()=>I,SET_RELATED_KEYWORD_RESULTS:()=>U,SET_RELATED_KEYWORD_SYNONYMS:()=>C,SET_SYNONYMS:()=>Q,SET_TEXT_FORMALITY_LEVEL:()=>ct,SET_WORDS_FOR_LINKING:()=>R,addRelatedKeyword:()=>B,changeRelatedKeyword:()=>$,loadLinkSuggestions:()=>A,loadMorphologyData:()=>P,removeRelatedKeyword:()=>q,setLinkSuggestions:()=>O,setLinkSuggestionsError:()=>T,setLoadMorphologyDataError:()=>W,setMessageData:()=>K,setProminentWords:()=>ut,setRelatedKeywordResults:()=>G,setRelatedKeywordSynonyms:()=>V,setRelatedKeywords:()=>z,setSynonyms:()=>H,setTextFormalityLevel:()=>dt,setWordsForLinking:()=>M});var t={};s.r(t),s.d(t,{insights:()=>yt,linkSuggestions:()=>mt,metaboxWarning:()=>ht,preferences:()=>wt,relatedKeywords:()=>St,synonyms:()=>vt});var n={};s.r(n),s.d(n,{getFirstAvailableKey:()=>Yt,getKeywordData:()=>jt,getKeywords:()=>It,getLinkSuggestions:()=>At,getLinkSuggestionsMessageData:()=>Mt,getMetaboxWarning:()=>Dt,getMetaboxWarningIsLoading:()=>Ft,getPreference:()=>Pt,getPreferences:()=>Wt,getProminentWords:()=>Lt,getSynonyms:()=>Nt,getTextFormalityLevel:()=>xt,getWordsForLinking:()=>Kt,linkSuggestionsAreLoading:()=>Ot,linkSuggestionsAreUnindexed:()=>Tt});var r=s(609);const o=window.wp.components,a=window.wp.element,i=window.wp.i18n,l=window.yoast.featureFlag,c=window.lodash,u=window.yoast.propTypes;var d=s.n(u);const y=window.yoast.styledComponents;var p=s.n(y);const m=({link:e})=>(0,r.createElement)(o.Fill,{name:"YoastAfterCornerstoneToggle"},(0,r.createElement)("hr",{style:{borderTop:"0"}}),(0,r.createElement)("p",{style:{color:"#767676"}},(0,r.createElement)("em",null,(0,a.createInterpolateElement)((0,i.sprintf)(
/* translators: %1$s and %2$s expand to an opening and closing anchor tag, respectively,
  that links to the cornerstone workout. */
/* translators: %1$s and %2$s expand to an opening and closing anchor tag, respectively,
  that links to the cornerstone workout. */
(0,i.__)("Improve rankings for all your cornerstones by using this %1$sstep-by-step workout!%2$s","wordpress-seo-premium"),"<a>","</a>"),{a:(0,r.createElement)("a",{href:e,target:"_blank"})}))));m.propTypes={link:d().string.isRequired};const g=m;function h(){return window.wpseoPremiumMetaboxData.data.restApi.available&&window.wpseoPremiumMetaboxData.data.restApi.contentEndpointsAvailable&&"enabled"===window.wpseoPremiumMetaboxData.data.linkSuggestionsEnabled&&window.wpseoPremiumMetaboxData.data.linkSuggestionsAvailable}function w(){return(0,window.yoast.editorModules.analysis.getContentLocale)().split("_")[0]}const k=window.wp.data,f=window.yoast.analysis,b=()=>{if((()=>{const{getPreference:e}=(0,k.select)("yoast-seo/editor");return!!e&&e("isInsightsEnabled",!1)})()&&(0,k.select)("yoast-seo-premium/editor").getPreference("isProminentWordsAvailable",!1))return(0,k.subscribe)((0,c.debounce)((()=>{const{getEditorDataContent:e}=(0,k.select)("yoast-seo/editor"),t=(0,c.get)(window,"yoast.editorModules.helpers.createWatcher",c.noop),s=(()=>{const{setProminentWords:e,setTextFormalityLevel:t}=(0,k.dispatch)("yoast-seo-premium/editor"),s=(0,c.get)(window,"YoastSEO.analysis.worker.runResearch",c.noop),n=(0,c.get)(window,"YoastSEO.analysis.collectData",!1);return()=>{const r=n?f.Paper.parse(n()):null;s("getProminentWordsForInsights",r).then((({result:e})=>(0,c.reduce)(e,((e,t)=>[...e,{word:t.getWord(),occurrence:t.getOccurrences()}]),[]))).then((t=>e(t))),(0,l.isFeatureEnabled)("TEXT_FORMALITY")&&s("textFormality",r).then((e=>{e.result&&t(e.result)}))}})();return setTimeout(s,1500),t(e,s)})(),1500,{maxWait:3e3}))},E=p().span`
	color: #a4286a;
	font-weight: 600;
`,S=()=>{const e=(0,k.useSelect)((e=>e("yoast-seo-premium/editor").getTextFormalityLevel()),[]),t=f.languageProcessing.sanitizeString((0,k.useSelect)((e=>e("yoast-seo/editor").getTextLength()),[]).text),s=(0,a.useMemo)((()=>(0,a.createInterpolateElement)((0,i.sprintf)(
/* translators: %1$s expands to a starting `span` tag, %2$s expands to a closing `span` tag,
    	%3$s expands to the formality level (either formal or informal). */
/* translators: %1$s expands to a starting `span` tag, %2$s expands to a closing `span` tag,
    	%3$s expands to the formality level (either formal or informal). */
(0,i.__)("Overall, your text appears to be %1$s%3$s%2$s.","wordpress-seo-premium"),"<span>","</span>",e),{span:(0,r.createElement)(E,null)})),[e]);return(0,r.createElement)("div",null,t.length<50&&(0,r.createElement)("div",null,(0,r.createElement)("p",null,(0,i.__)("Once you add a bit more copy, we'll be able to tell you the formality level of your text.","wordpress-seo-premium"))),t.length>=50&&(0,r.createElement)("div",null,(0,r.createElement)("p",null,s)))},v="LOAD_LINK_SUGGESTIONS",_="SET_LINK_SUGGESTIONS",L="SET_LINK_SUGGESTIONS_ERROR",x="SET_MESSAGE_DATA",R="SET_WORDS_FOR_LINKING";function A(){return{type:v}}function O(e,t){return{type:_,linkSuggestions:e,showUnindexedWarning:t}}function T(e){return{type:L,message:e}}function K(e){return{type:x,messageData:e}}function M(e){return{type:R,wordsForLinking:e}}const F="LOAD_MORPHOLOGY_DATA",D="LOAD_MORPHOLOGY_DATA_ERROR";function P(){return{type:F}}function W(e){return{type:D,message:e}}const j="ADD_RELATED_KEYWORD",I="SET_RELATED_KEYWORDS",Y="CHANGE_RELATED_KEYWORD",N="REMOVE_RELATED_KEYWORD",U="SET_RELATED_KEYWORD_RESULTS",C="SET_RELATED_KEYWORD_SYNONYMS";function B(e){return{type:j,keyword:e}}function $(e,t){return{type:Y,key:e,keyword:t}}function q(e){return{type:N,key:e}}function z(e){return{type:I,keywords:e}}function G(e,t,s,n){return{type:U,key:e,keyword:t,results:s,score:n}}function V(e,t){return{type:C,key:e,synonyms:t}}const Q="SET_SYNONYMS";function H(e){return{type:Q,synonyms:e}}const J=window.wp.a11y,X=window.wp.url,Z=window.yoast.helpers;var ee=s(865);const te=window.yoast.componentsNew,se=window.yoast.styleGuide,ne=p().div`
	display: flex;
	align-items: normal;
	min-height: 40px;
	margin: 10px 0 5px;
`,re=(0,Z.createSvgIconComponent)({copy:{viewbox:"0 0 448 512",path:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"},check:{viewbox:"0 0 512 512",path:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}),oe=p().div`
	background-color: #e5e5e5;
	width: 100%;
	height: 1px;
`,ae=p().button`
	box-sizing: border-box;
	flex: 0 0 30px;
	height: 30px;
	width: 30px;
	background-color: ${e=>e.iconBackground};
	border-radius: 5px;
	cursor: pointer;
	outline: none;
	border: 1px solid ${e=>e.iconBorder};
	margin-left: 3px;

	&:focus {
		box-shadow: 0 0 0 1px #5b9dd9, 0 0 2px 1px rgba(30, 140, 190, 0.8);
	}
`;ae.props={iconBackground:d().string,iconBorder:d().string},ae.defaultProps={iconBackground:se.colors.$color_button,iconBorder:se.colors.$color_button_border};const ie=p().div`
	flex: auto;
`,le=(0,Z.makeOutboundLink)(p().a`
	text-overflow: ellipsis;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	/* -webkit-box-orient: vertical; */
	/* -moz-box-orient: vertical; */
	max-height: 40px;
	margin-bottom: 4px;
	-webkit-box-orient: vertical;
	overflow: hidden;
	padding: 0 0 4px;
`),ce=p().div`
	flex-wrap: wrap;
	display: flex;
	flex-direction: row;
	justify-content: unset;
	margin-top: 4px;
`,ue=p().span`
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	text-align: center;
	padding: 3px 8px;
	font-size: 0.85em;
	background-color: #f3f4f5;
	border-radius: 2px;
	margin-bottom: 4px;
	margin-right: 4px;
	text-transform: lowercase;
`,de=({badges:e})=>(0,r.createElement)(ce,null,e.map(((e,t)=>(0,r.createElement)(ue,{key:t},e))));de.propTypes={badges:d().array.isRequired};const ye=({value:e,url:t,isActive:s,labels:n})=>{const o=(0,i.__)("Copy link","wordpress-seo-premium"),l=(0,i.sprintf)(/* translators: Hidden accessibility text; %s expands to the link value */ /* translators: Hidden accessibility text; %s expands to the link value */
(0,i.__)("Copy link to suggested article: %s","wordpress-seo-premium"),e),c=(0,a.useCallback)((e=>{e.nativeEvent.target.setAttribute("aria-label",l),e.nativeEvent.target.setAttribute("data-label",o)}),[l,o]);let u="copy",d=se.colors.$color_black,y=se.colors.$color_button,p="#979797";return s&&(u="check",d=se.colors.$color_alert_success_text,y=se.colors.$color_alert_success_background,p=se.colors.$color_alert_success_background),(0,r.createElement)("div",null,(0,r.createElement)(oe,null),(0,r.createElement)(ne,{className:"yoast-link-suggestion__wrapper"},(0,r.createElement)(ie,{className:"yoast-link-suggestion__container"},(0,r.createElement)(le,{href:t},e),(0,r.createElement)(de,{badges:n})),(0,r.createElement)(ae,{type:"button",className:"yoast-link-suggestion__copy yoast-tooltip yoast-tooltip-alt yoast-tooltip-s",onBlur:c,"data-clipboard-text":t,"aria-label":l,"data-label":o,iconBackground:y,iconBorder:p},(0,r.createElement)(re,{icon:u,color:d}),(0,r.createElement)(te.ScreenReaderText,null,o))))};ye.propTypes={value:d().string.isRequired,url:d().string.isRequired,isActive:d().bool,labels:d().array.isRequired},ye.defaultProps={isActive:!1};const pe=ye,me=p().div`
	display: table-cell;
`;let ge;const he=e=>{const t=(0,i.__)("Copied!","wordpress-seo-premium");e.trigger.focus(),e.trigger.setAttribute("aria-label",t),e.trigger.setAttribute("data-label",t),(0,J.speak)(t,"assertive")},we=e=>{const t=(0,i.__)("Not supported!","wordpress-seo-premium");e.trigger.el.setAttribute("aria-label",t),e.trigger.setAttribute("data-label",t),(0,J.speak)(t,"assertive")},ke=({suggestions:e,maxSuggestions:t,customMessages:s,location:n})=>{const o=function(e){const t=(0,Z.makeOutboundLink)(),s=(0,X.addQueryArgs)(wpseoAdminL10n["shortlinks.site_structure_metabox"],{context:e});return(0,ee.A)({
// Translators: Text between {{a}} and {{/a}} will be a link to an article about site structure.
mixedString:(0,i.__)("{{a}}Read our guide on internal linking for SEO{{/a}} to learn more.","wordpress-seo-premium"),components:{a:(0,r.createElement)(t,{href:s})}})}(n);return 0===e.length?(0,r.createElement)("div",null,(0,r.createElement)("p",null,""===s.lengthMessage?(0,i.__)("We could not find any relevant articles on your website that you could link to from your post.","wordpress-seo-premium"):s.lengthMessage),(0,r.createElement)("p",null,s.metaMessage),(0,r.createElement)("p",null,o)):(e.length>t&&(e.length=t),(0,r.createElement)(me,null,(0,r.createElement)("p",null,(0,i.__)("To improve your site structure, consider linking to other relevant posts or pages on your website.","wordpress-seo-premium")," ",o),(0,r.createElement)("p",null,s.metaMessage),e.map(((e,t)=>(0,r.createElement)(pe,{key:t,...e})))))};ke.propTypes={suggestions:d().array.isRequired,maxSuggestions:d().number,customMessages:d().object,location:d().string},ke.defaultProps={maxSuggestions:10,customMessages:{lengthMessage:"",metaMessage:""},location:""};const fe=()=>{window.open("admin.php?page=wpseo_tools&start-indexation=true","yoastSeoAnalyzeProminentWords")},be=e=>{if((0,a.useEffect)((()=>(e.suggester.subscribe(),()=>{e.suggester.unsubscribe()})),[]),e.isLoading)return(0,r.createElement)("div",{className:"yoast-link-suggestions"},(0,r.createElement)("p",null,(0,i.__)("It takes a few seconds to show you a list of related content to which you could link. The suggestions will be shown here as soon as we have them.","wordpress-seo-premium")));ge||(ge=new ClipboardJS(".yoast-link-suggestion__copy"),ge.on("success",he),ge.on("error",we));let t=null;e.showUnindexedWarning&&(t=(()=>{
/* translators: 1: link to yoast.com post about internal linking suggestion. 2: is anchor closing.
  3: button to the recalculation option. 4: closing button */
let e=(0,i.__)("We need to optimize your site’s SEO data so we can offer you the best %1$slinking suggestions%2$s.\n\n%3$sStart SEO Data optimization%4$s","wordpress-seo-premium");return e=e.replace("%1$s","{{a}}"),e=e.replace("%2$s","{{/a}}"),e=e.replace("%3$s","{{startAnalysis}}"),e=e.replace("%4$s","{{/startAnalysis}}"),e=e.replace("\n\n","{{br /}}{{br /}}"),e=(0,ee.A)({mixedString:e,components:{a:(0,r.createElement)("a",{href:wpseoAdminL10n["shortlinks.notification_internal_link"],target:"_blank"}),startAnalysis:(0,r.createElement)("button",{type:"button",className:"button",onClick:fe}),br:(0,r.createElement)("br",null)}}),(0,r.createElement)("div",{className:"notice notice-warning notice-alt wpseo-notice-breakout-inside yoast-links-suggestions-notice"},(0,r.createElement)("p",null,e))})());const s=(e=>{let t="";e.hasWordsForLinking||(t=(0,i.__)("Once you add a bit more copy, we'll give you a list of related content here to which you could link in your post.","wordpress-seo-premium"));const s=((e,t,s)=>{switch(!0){case s&&!t&&""===e:return(0,i.__)("Add a title to your post for the best internal linking suggestions.","wordpress-seo-premium");case!s&&t&&""===e:return(0,i.__)("Add a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium");case!s&&!t&&""===e:return(0,i.__)("Add a title and a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium");case s&&!t&&""!==e:return(0,i.__)("Also, add a title to your post for the best internal linking suggestions.","wordpress-seo-premium");case!s&&t&&""!==e:return(0,i.__)("Also, add a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium");case!s&&!t&&""!==e:return(0,i.__)("Also, add a title and a metadescription to your post for the best internal linking suggestions.","wordpress-seo-premium")}})(t,e.hasTitle,e.hasMetaDescription);return{lengthMessage:t,metaMessage:s}})({...e.messageData,hasWordsForLinking:Array.isArray(e.wordsForLinking)&&e.wordsForLinking.length>0});return(0,r.createElement)("div",{className:"yoast-link-suggestions"},t,(0,r.createElement)(ke,{suggestions:e.suggestions,customMessages:s,location:e.location}))};be.propTypes={suggester:d().object,suggestions:d().array.isRequired,wordsForLinking:d().array,messageData:d().object,isLoading:d().bool.isRequired,showUnindexedWarning:d().bool,location:d().string},be.defaultProps={suggester:null,showUnindexedWarning:!1,messageData:{hasMetaDescription:!1,hasTitle:!1},wordsForLinking:[],location:""};const Ee=be,Se=(0,k.withSelect)((e=>{const{getLinkSuggestions:t,getWordsForLinking:s,getLinkSuggestionsMessageData:n,linkSuggestionsAreLoading:r,linkSuggestionsAreUnindexed:o}=e("yoast-seo-premium/editor");return{suggestions:t(),wordsForLinking:s(),messageData:n(),isLoading:r(),showUnindexedWarning:o()}}))(Ee);class ve extends a.Component{render(){return this.props.isLoading||this.props.warning.length<1?null:(0,r.createElement)(te.Warning,{message:[this.props.warning]})}}ve.propTypes={warning:d().array,isLoading:d().bool},ve.defaultProps={warning:[],isLoading:!1};const _e=ve,Le=(0,k.withSelect)((e=>{const{getMetaboxWarningIsLoading:t,getMetaboxWarning:s}=e("yoast-seo-premium/editor");return{isLoading:t(),warning:s()}}))(_e),xe=window.wp.compose,Re=window.yoast.editorModules.analysis.getIndicatorForScore,Ae=window.yoast.editorModules.components.HelpLink,{getIconForScore:Oe}=window.yoast.editorModules.components.contentAnalysis.mapResults,Te=window.yoast.editorModules.containers.Results,{LocationConsumer:Ke}=window.yoast.editorModules.components.contexts.location,Me=window.yoast.editorModules.components.SidebarCollapsible,Fe=window.yoast.editorModules.components.MetaboxCollapsible,De=window.yoast.editorModules.components.contentAnalysis.KeywordInput,Pe=p().strong`
	font-size: 1em;
	font-weight: bold;
	margin-bottom: 0.5em;
	display: block;
`;function We({keyword:e,onChange:t,analysis:s,score:n,isAddKeyword:o,synonyms:l,onChangeSynonyms:c,onFocusKeyword:u,onBlurKeyword:d,onFocusSynonym:y,onBlurSynonym:p,onRemoveKeyword:m,marksButtonStatus:g,keywordKey:h}){const w=Re(n);let k=(0,i.__)("Related keyphrase","wordpress-seo-premium"),f=e,b=Oe(w.className);o&&(k=(0,i.__)("Add related keyphrase","wordpress-seo-premium"),f="",b={icon:"plus",color:se.colors.$color_grey_medium_dark}),""===e&&(w.className="na",w.screenReaderReadabilityText=(0,i.__)("Enter a related keyphrase to calculate the SEO score","wordpress-seo-premium"));const E=function(e){const t=[];return e&&e.includes(",")&&t.push((0,i.__)("Are you trying to use multiple related keyphrases? You should add them separately.","wordpress-seo-premium")),e&&e.length>191&&t.push((0,i.__)("Your keyphrase is too long. It can be a maximum of 191 characters.","wordpress-seo-premium")),t}(e),S=(0,r.createElement)(Ae,{href:wpseoAdminL10n["shortlinks.focus_keyword_info"],className:"dashicons"},(0,r.createElement)("span",{className:"screen-reader-text"},/* translators: Hidden accessibility text. */ /* translators: Hidden accessibility text. */
(0,i.__)("Help on choosing the perfect keyphrase","wordpress-seo-premium"))),v=(0,r.createElement)(Ae,{href:wpseoAdminL10n["shortlinks.keyword_synonyms_info"],className:"dashicons"},(0,r.createElement)("span",{className:"screen-reader-text"},/* translators: Hidden accessibility text. */ /* translators: Hidden accessibility text. */
(0,i.__)("Help on keyphrase synonyms","wordpress-seo-premium")));return(0,r.createElement)(Ke,null,(n=>{const w="metabox"===n?Fe:Me;return(0,r.createElement)(w,{title:k,subTitle:f,prefixIcon:b,prefixIconCollapsed:b,id:`yoast-additional-keyphrase-collapsible-${h}-${n}`},(0,r.createElement)(De,{id:o?`yoast-keyword-input-add-${n}`:`yoast-keyword-input-${h}-${n}`,keyword:e,onChange:t,onFocusKeyword:u,onRemoveKeyword:o?null:m,onBlurKeyword:d,label:(0,i.__)("Keyphrase","wordpress-seo-premium"),helpLink:S,hasError:E.length>0,errorMessages:E}),!o&&(0,r.createElement)(a.Fragment,null,(0,r.createElement)(te.SynonymsInput,{id:`yoast-synonyms-input-${h}-${n}`,showLabel:!0,label:(0,i.__)("Synonyms","wordpress-seo-premium"),onChange:c,onBlur:p,onFocus:y,value:l,helpLink:v}),(0,r.createElement)(Pe,null,(0,i.__)("Analysis results","wordpress-seo-premium")),(0,r.createElement)(Te,{showLanguageNotice:!1,marksButtonClassName:"yoast-tooltip yoast-tooltip-w",editButtonClassName:"yoast-tooltip yoast-tooltip-w",marksButtonStatus:g,results:s,keywordKey:h,location:n})))}))}We.propTypes={keyword:d().string.isRequired,onChange:d().func.isRequired,synonyms:d().string,onChangeSynonyms:d().func,onRemoveKeyword:d().func.isRequired,onFocusKeyword:d().func.isRequired,onBlurKeyword:d().func.isRequired,onBlurSynonym:d().func.isRequired,onFocusSynonym:d().func.isRequired,analysis:d().array,isAddKeyword:d().bool,score:d().number,marksButtonStatus:d().string,keywordKey:d().string.isRequired},We.defaultProps={synonyms:"",onChangeSynonyms:c.noop,analysis:[],isAddKeyword:!1,score:0,marksButtonStatus:"enabled"};const je=(0,xe.compose)([(0,k.withSelect)(((e,t)=>{const{keywordKey:s}=t,{getKeywordData:n}=e("yoast-seo-premium/editor");return{keyword:n(s).keyword,analysis:n(s).results,score:n(s).score,synonyms:n(s).synonyms}})),(0,k.withDispatch)(((e,t)=>{const{isAddKeyword:s,keywordKey:n}=t,{setMarkerPauseStatus:r}=e("yoast-seo/editor"),{addRelatedKeyword:o,changeRelatedKeyword:a,setRelatedKeywordSynonyms:i,removeRelatedKeyword:l}=e("yoast-seo-premium/editor");return{onChange(e){s?o(e):a(n,e)},onFocusKeyword(){r(!0)},onRemoveKeyword(){l(n)},onBlurKeyword(e){r(!1),""===e.target.value&&l(n)},onChangeSynonyms(e){const t=e.target.value;i(n,t)},onFocusSynonym(){r(!0)},onBlurSynonym(){r(!1)}}}))])(We);function Ie({relatedKeywords:e,firstAvailableKey:t,marksButtonStatus:s}){const n=e.length<4,o=[...e];return n&&o.push({key:t,isAddKeyword:!0}),(0,r.createElement)("div",null,o.map((e=>{const t=e.isAddKeyword||!1;return(0,r.createElement)(je,{key:e.key,keywordKey:e.key,isAddKeyword:t,marksButtonStatus:s})})))}Ie.propTypes={relatedKeywords:d().array.isRequired,firstAvailableKey:d().string.isRequired,marksButtonStatus:d().string},Ie.defaultProps={marksButtonStatus:"enabled"};const Ye=(0,xe.compose)([(0,k.withSelect)((e=>{const{getActiveMarker:t,getMarkButtonStatus:s}=e("yoast-seo/editor"),{getKeywords:n,getFirstAvailableKey:r}=e("yoast-seo-premium/editor");return{relatedKeywords:n(),firstAvailableKey:r(),activeMarker:t(),marksButtonStatus:s()}})),(0,k.withDispatch)((e=>{const{setActiveMarker:t}=e("yoast-seo/editor");return{setActiveMarker:t}}))])(Ie),Ne=window.yoast.relatedKeyphraseSuggestions;class Ue extends a.Component{constructor(e){super(e),this.state={isSuccess:!1},this.addButtonRef=(0,a.createRef)(),this.removeLinkRef=(0,a.createRef)(),this.addKeyphraseToList=this.addKeyphraseToList.bind(this),this.removeKeyphraseFromList=this.removeKeyphraseFromList.bind(this),this.successMessageTimer=null}getAssociatedKeyphraseKey(e,t){const s=(0,c.find)(e,{keyword:t});return(0,c.isUndefined)(s)?"":s.key}keyphraseExists(e,t){return!(0,c.isUndefined)((0,c.find)(e,{keyword:t}))}relatedKeyphrasesLimitReached(){return this.props.relatedKeyphrases.length>=4}addKeyphraseToList(){""===this.getAssociatedKeyphraseKey(this.props.relatedKeyphrases,this.props.relatedKeyphrase)&&(this.props.addKeyphrase(this.props.relatedKeyphrase),this.setState((()=>({isSuccess:!0}))))}removeKeyphraseFromList(){const e=this.getAssociatedKeyphraseKey(this.props.relatedKeyphrases,this.props.relatedKeyphrase);""!==e&&(this.props.removeKeyphrase(e),this.setState((()=>({isSuccess:!0}))))}showSuccessMessage(){this.setState({isSuccess:!0}),this.successMessageTimer=setTimeout((()=>{this.setState({isSuccess:!1})}),1e3)}componentDidUpdate(e){const t=this.keyphraseExists(this.props.relatedKeyphrases,this.props.relatedKeyphrase),s=this.keyphraseExists(e.relatedKeyphrases,e.relatedKeyphrase);t&&!s&&(this.removeLinkRef.current.focus(),this.showSuccessMessage()),!t&&s&&(this.addButtonRef.current.focus(),this.showSuccessMessage())}componentWillUnmount(){this.successMessageTimer&&clearTimeout(this.timerRestore)}render(){const e=this.props.relatedKeyphrase,t=this.props.relatedKeyphrases,s=t&&this.keyphraseExists(t,e),{isSuccess:n}=this.state,o={ref:this.addButtonRef,variant:"add",disabled:this.relatedKeyphrasesLimitReached(),onClick:this.addKeyphraseToList},a={ref:this.removeLinkRef,variant:"remove",onClick:this.removeKeyphraseFromList},i=s?a:o;return(0,r.createElement)("div",{className:"yst-flex yst-justify-end yst-relative"},n&&(0,r.createElement)(Ne.TableButton.SuccessMessage,{variant:s?"add":"remove",className:"yst-absolute yst-top-0 yst-right-0"}),(0,r.createElement)(Ne.TableButton,{...i,className:n?"yst-opacity-0":""}))}}Ue.propTypes={relatedKeyphrase:d().string,relatedKeyphrases:d().array,addKeyphrase:d().func.isRequired,removeKeyphrase:d().func.isRequired},Ue.defaultProps={relatedKeyphrase:"",relatedKeyphrases:[]};const Ce=(0,k.withDispatch)((e=>{const{addRelatedKeyword:t,removeRelatedKeyword:s}=e("yoast-seo-premium/editor");return{addKeyphrase:t,removeKeyphrase:s}}))(Ue),Be=window.yoast.editorModules.containers.SEMrushRelatedKeyphrases,$e=(0,xe.compose)([(0,k.withSelect)((e=>({keyphrase:e("yoast-seo/editor").getFocusKeyphrase(),relatedKeyphrases:e("yoast-seo-premium/editor").getKeywords(),renderAction:(e,t)=>(0,r.createElement)(Ce,{relatedKeyphrase:e,relatedKeyphrases:t})})))])(Be),qe=(0,xe.compose)([(0,k.withSelect)((e=>{const{getSynonyms:t}=e("yoast-seo-premium/editor");return{value:t()}})),(0,k.withDispatch)((e=>{const{setMarkerPauseStatus:t}=e("yoast-seo/editor"),{setSynonyms:s}=e("yoast-seo-premium/editor");return{onChange(e){s(e.target.value)},onFocus(){t(!0)},onBlur(){t(!1)}}}))])(te.SynonymsInput),ze=window.yoast.reduxJsToolkit,Ge="adminUrl",Ve=(0,ze.createSlice)({name:Ge,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),Qe=(Ve.getInitialState,{selectAdminUrl:e=>(0,c.get)(e,Ge,"")});Qe.selectAdminLink=(0,ze.createSelector)([Qe.selectAdminUrl,(e,t)=>t],((e,t)=>{try{return new URL(t,e).href}catch(t){return e}})),Ve.actions,Ve.reducer,window.wp.apiFetch;const He="hasConsent",Je=(0,ze.createSlice)({name:He,initialState:!1,reducers:{giveAiGeneratorConsent:(e,{payload:t})=>t}}),Xe=(Je.getInitialState,Je.actions,Je.reducer,"pluginUrl"),Ze=(0,ze.createSlice)({name:Xe,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),et=(Ze.getInitialState,{selectPluginUrl:e=>(0,c.get)(e,Xe,"")});et.selectImageLink=(0,ze.createSelector)([et.selectPluginUrl,(e,t,s="assets/images")=>s,(e,t)=>t],((e,t,s)=>[(0,c.trimEnd)(e,"/"),(0,c.trim)(t,"/"),(0,c.trimStart)(s,"/")].join("/")));const tt=Ze.actions,st=Ze.reducer,nt="linkParams",rt=(0,ze.createSlice)({name:nt,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),ot=(rt.getInitialState,{selectLinkParam:(e,t,s={})=>(0,c.get)(e,`${nt}.${t}`,s),selectLinkParams:e=>(0,c.get)(e,nt,{})});ot.selectLink=(0,ze.createSelector)([ot.selectLinkParams,(e,t)=>t],((e,t)=>(0,X.addQueryArgs)(t,e))),rt.actions,rt.reducer;const at="wistiaEmbedPermission",it=(0,ze.createSlice)({name:at,initialState:{value:!1,status:"idle",error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${at}/request`,(e=>{e.status="loading"})),e.addCase(`${at}/success`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${at}/error`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,c.get)(t,"error.code",500),message:(0,c.get)(t,"error.message","Unknown")}}))}}),lt=(it.getInitialState,it.actions,it.reducer,"SET_PROMINENT_WORDS"),ct="SET_TEXT_FORMALITY_LEVEL",ut=e=>({type:lt,payload:e}),dt=e=>({type:ct,payload:e}),yt=(0,k.combineReducers)({prominentWords:(e=[],{type:t,payload:s})=>t===lt?s:e,textFormalityLevel:(e=null,{type:t,payload:s})=>t===ct?s:e}),pt={suggestions:[],messageData:{hasMetaDescription:!1,hasTitle:!1},wordsForLinking:null,isLoading:!0,showUnindexedWarning:!1},mt=function(e=pt,t){switch(t.type){case v:return Object.assign({},e,{isLoading:!0});case _:return Object.assign({},e,{suggestions:t.linkSuggestions||[],isLoading:!1,showUnindexedWarning:t.showUnindexedWarning});case x:return Object.assign({},e,{messageData:{hasMetaDescription:t.messageData.hasMetaDescription,hasTitle:t.messageData.hasTitle},wordsForLinking:t.messageData.prominentWords});case R:return Object.assign({},e,{wordsForLinking:t.wordsForLinking});default:return e}},gt={isLoading:!1,warning:[]},ht=function(e=gt,t){switch(t.type){case F:return Object.assign({},e,{isLoading:!0});case D:return Object.assign({},e,{isLoading:!1,warning:t.message});default:return e}},wt=(e=(()=>({isProminentWordsAvailable:(0,c.get)(window,"wpseoPremiumMetaboxData.data.isProminentWordsAvailable",!1)}))())=>e,kt={},ft=["a","b","c","d"];function bt(e=ft,t){let s;switch(t.type){case I:return s=ft.length-t.keywords.length,(0,c.takeRight)(e,s);case j:return(0,c.tail)(e);case N:return[t.key,...e]}return e}function Et(e=kt,t,s){switch(t.type){case I:return(0,c.fromPairs)(t.keywords.map(((e,t)=>{const s=ft[t];return[s,{...e,key:s}]})));case j:return{...e,[s]:{key:s,keyword:t.keyword}};case N:return(0,c.pickBy)(e,(e=>e.key!==t.key));case Y:return{...e,[t.key]:{...e[t.key],keyword:t.keyword}};case U:return e[t.key]&&e[t.key].keyword===t.keyword?{...e,[t.key]:{...e[t.key],results:t.results,score:t.score}}:e;case C:return{...e,[t.key]:{...e[t.key],synonyms:t.synonyms}}}return e}function St(e={},t){return{availableKeys:bt(e.availableKeys,t),keywords:Et(e.keywords,t,(0,c.head)(e.availableKeys))}}function vt(e="",t){return t.type===Q?t.synonyms:e}const _t=[],Lt=e=>(0,c.get)(e,"insights.prominentWords",_t),xt=e=>(0,c.get)(e,"insights.textFormalityLevel",null),Rt=[];function At(e){return(0,c.get)(e,["linkSuggestions","suggestions"],Rt)}function Ot(e){return(0,c.get)(e,["linkSuggestions","isLoading"],!0)}function Tt(e){return(0,c.get)(e,["linkSuggestions","showUnindexedWarning"],!1)}function Kt(e){return(0,c.get)(e,["linkSuggestions","wordsForLinking"],null)}function Mt(e){return(0,c.get)(e,["linkSuggestions","messageData"],{hasMetaDescription:!1,hasTitle:!1})}function Ft(e){return(0,c.get)(e,"metaboxWarning.isLoading",!0)}function Dt(e){return(0,c.get)(e,"metaboxWarning.warning","")}const Pt=(e,t,s=null)=>(0,c.get)(e,`preferences.${t}`,s),Wt=e=>e.preferences;function jt(e,t){return(0,c.get)(e,["relatedKeywords","keywords",t],{keyword:"",analysis:[],score:0,synonyms:""})}function It(e){return Object.values((0,c.get)(e,["relatedKeywords","keywords"],{}))}function Yt(e){return(0,c.head)((0,c.get)(e,["relatedKeywords","availableKeys"],[]))||""}function Nt(e){return(0,c.get)(e,["synonyms"],"")}class Ut{constructor(){this.previous={relatedKeywords:[]};const e=wpseoScriptData.isPost?"yoast_wpseo":"hidden_wpseo";this._relatedKeywordsField=document.getElementById(e+"_focuskeywords"),this._synonymsField=document.getElementById(e+"_keywordsynonyms"),this._wordsForLinking=document.getElementById(e+"_words_for_linking")}persist(e){this.persistRelatedKeywords(e),this.persistSynonyms(e),this.persistWordsForLinking(e),this.saveCurrentValues(e)}saveCurrentValues(e){this.previous.relatedKeywords=e.relatedKeywords.keywords,this.previous.synonyms=e.synonyms,this.previous.wordsForLinking=e.linkSuggestions.wordsForLinking}persistRelatedKeywords(e){this.previous.relatedKeywords!==e.relatedKeywords.keywords&&(this._relatedKeywordsField.value=JSON.stringify(Object.values(e.relatedKeywords.keywords).map((e=>({keyword:e.keyword,score:e.score})))))}persistSynonyms(e){if(this.previous.relatedKeywords===e.relatedKeywords.keywords&&this.previous.synonyms===e.synonyms)return;const t=e.synonyms;this._synonymsField.value=JSON.stringify([t,...Object.values(e.relatedKeywords.keywords).map((e=>e.synonyms||""))])}persistWordsForLinking(e){const t=e.linkSuggestions.wordsForLinking;if(null===t||t===this.previous.wordsForLinking)return;const s={};t.forEach((e=>{"object"==typeof e&&"function"==typeof e.getStem&&(s[e.getStem()]=e.getOccurrences())})),this._wordsForLinking.value=JSON.stringify(s)}}function Ct(e){const t={};return e.forEach((function(e){t[e.getStem()]=e.getOccurrences()})),t}const Bt=class{constructor({dispatch:e,rootUrl:t,nonce:s,showUnindexedWarning:n,currentObjectId:r,currentObjectType:o,maxWordsToSave:a}){this.dispatch=e,this._rootUrl=t,this._nonce=s,this._showUnindexedWarning=n,this._currentObjectId=r,this._currentObjectType=o,this._maxWordsToSave=a,this.wordsForLinking=[],this.linkSuggestions=!1,this.linkSuggestionsRequest=!1,this.update=this.update.bind(this)}subscribe(){this.update(),jQuery(window).on("YoastSEO:numericScore",this.update)}unsubscribe(){jQuery(window).off("YoastSEO:numericScore",this.update)}update(){YoastSEO.analysis.worker.runResearch("getProminentWordsForInternalLinking").then((({result:e})=>this.setWordsForLinkingOnStore(e))).then((e=>this.retrieveLinkSuggestions(e))).then((e=>this.formatLinkSuggestions(e))).then((e=>this.setLinkingSuggestionsOnStore(e))),this.updateUsedLinks()}setWordsForLinkingOnStore(e){const t=e.prominentWords.slice(0,this._maxWordsToSave);return this.dispatchMessageData(e),this.dispatchWordsForLinking(t),t}dispatchMessageData(e){this.dispatch(K(e))}dispatchWordsForLinking(e){this.dispatch(M(e))}dispatchLinkSuggestions(e,t){this.dispatch(O(e,t))}formatLinkSuggestions(e){return this.linkSuggestions=e,e=this.markUsedLinks(e),this.constructor.mapSuggestionsForStore(e)}setLinkingSuggestionsOnStore(e){this.dispatchLinkSuggestions(e,this._showUnindexedWarning)}retrieveLinkSuggestions(e){return(0,c.isEqual)([],e)?Promise.resolve([]):this.linkSuggestions&&(0,c.isEqual)(e,this.wordsForLinking)?Promise.resolve(this.linkSuggestions):(this.linkSuggestionsRequest&&(0,c.isEqual)(e,this.wordsForLinking)||(this.wordsForLinking=e,this.linkSuggestionsRequest=new Promise(((t,s)=>{const n={prominent_words:Ct(e),object_id:this._currentObjectId,object_type:this._currentObjectType};jQuery.ajax({type:"GET",url:this._rootUrl+"yoast/v1/link_suggestions?"+jQuery.param(n),beforeSend:e=>{e.setRequestHeader("X-WP-Nonce",this._nonce)},dataType:"json",success:e=>{t(e)},error:e=>{s(e)},complete:()=>{this.linkSuggestionsRequest=!1}})}))),this.linkSuggestionsRequest)}static mapSuggestionsForStore(e){return e.map((e=>({value:e.title,url:e.link,isActive:e.active,labels:e.labels})))}updateUsedLinks(){YoastSEO.analysis.worker.runResearch("getLinks").then((({result:e})=>{if(this.usedLinks=e,this.linkSuggestions&&this.linkSuggestions.length>0){const e=this.formatLinkSuggestions(this.linkSuggestions);this.setLinkingSuggestionsOnStore(e)}}))}markUsedLinks(e){const t=this.usedLinks||[];return e.forEach((e=>{e.active=t.includes(e.link)})),e}};function $t(){window.location.reload()}class qt{constructor({siteUrl:e,setError:t,language:s,pluginVersion:n="24.0"}){this._siteUrl=e,this._setError=t,this._requestUrl=function(e){const t={en:"v6",de:"v10",es:"v10",fr:"v11",it:"v10",nl:"v9",ru:"v10",id:"v9",pt:"v9",pl:"v9",ar:"v9",sv:"v1",he:"v1",hu:"v2",nb:"v1",tr:"v1",cs:"v1",sk:"v1",el:"v1",ja:"v1"};return!!Object.keys(t).includes(e)&&`https://my.yoast.com/api/downloads/file/morphology-${e}-${t[e]}`}(s),this._pluginVersion=n}injectMorphologyData(){this.retrieveData(this._requestUrl,this._siteUrl,this._pluginVersion).then((e=>{YoastSEO.analysis.worker.initialize({researchData:{morphology:e}}).then((()=>{YoastSEO.app.refresh()}))})).catch((e=>{if(403===e.status){const e=(0,Z.makeOutboundLink)(),t=(0
/* Translators: {{activateLink}}: Link start tag to a Yoast.com article, {{/activateLink}}: Link closing tag,
          {{reloadButton}}: Button start tag to reload the page, {{/reloadButton}} Button closing tag. */,ee.A)({mixedString:(0,i.__)("An error occurred: the Premium SEO analysis isn't working as expected. Please {{activateLink}}activate your subscription in MyYoast{{/activateLink}} and then {{reloadButton}}reload this page{{/reloadButton}} to make it work properly.","wordpress-seo-premium"),components:{activateLink:(0,r.createElement)(e,{href:wpseoAdminL10n["shortlinks.activate_premium_info"]}),reloadButton:(0,r.createElement)("button",{type:"button",className:"button-link",onClick:$t})}});this._setError(t)}}))}retrieveData(e,t,s){return new Promise(((n,r)=>{jQuery.ajax({type:"GET",url:e,data:{plugin_version:s,site:t},dataType:"json",success:e=>{n(e)},error:e=>{r(e)}})}))}}const{refreshDelay:zt}=window.yoast.editorModules.analysis.constants,{sortResultsByIdentifier:Gt}=window.yoast.editorModules.analysis.refreshAnalysis;class Vt{constructor(){this.analyze=(0,c.debounce)(this.analyze,zt)}static getAnalysis(){return YoastSEO.analysis}static getRelevantData(e){const t={};return(0,c.forEach)(e.relatedKeywords.keywords,(({keyword:e,synonyms:s},n)=>{(0,c.isString)(s)||(s=""),t[n]={keyword:e,synonyms:s}})),t}static shouldAnalyze(e,t){return!(0,c.isEqual)(e,t)}analyze(e,t){const{worker:s,collectData:n,applyMarks:r}=Vt.getAnalysis();let o=n();o instanceof f.Paper==0&&(o=f.Paper.parse(o));const a=Vt.getRelevantData(e);s.analyzeRelatedKeywords(o,a).then((({result:{seo:e}})=>{e&&(0,c.forEach)(e,(({results:e,score:s},n)=>{""!==n&&void 0!==a[n]&&void 0!==a[n].keyword&&(e=Gt(e),(0,c.forEach)(e,(e=>{e.getMarker=()=>()=>r(o,e.marks)})),t(G(n,a[n].keyword,e,s)))}))})).catch((e=>console.warn(e)))}}const Qt=window.yoast.editorModules.helpers.isBlockEditor,{setTextdomainL10n:Ht}=window.yoast.editorModules.helpers.i18n,Jt=window.yoast.editorModules.components.SidebarItem,Xt=window.yoast.editorModules.components.higherorder.withYoastSidebarPriority,Zt=window.yoast.editorModules.analysis.getL10nObject,es=window.yoast.editorModules.components.HelpLink,ts=window.yoast.editorModules.components.TopLevelProviders,ss=window.yoast.editorModules.components.SidebarCollapsible,ns=window.yoast.editorModules.components.MetaboxCollapsible,rs=(0,c.get)(window,"wpseoPremiumMetaboxData.data",{});Ht("wordpress-seo-premium","wpseoPremiumJSL10n");const os=function(){return!!wpseoScriptData.isTerm},as=function(){return rs.seoAnalysisEnabled},is=function(e,t=[]){try{return JSON.parse(e)}catch(e){return t}},ls=Xt((({store:e,theme:t,location:s})=>(0,r.createElement)(ts,{store:e,theme:t,location:s},(0,r.createElement)(Ye,null))));ls.propTypes={store:d().object.isRequired,theme:d().object.isRequired,renderPriority:d().number.isRequired};const cs=({theme:e})=>{const t=(0,r.createElement)(es,{href:wpseoAdminL10n["shortlinks.keyword_synonyms_info"],className:"dashicons"},(0,r.createElement)("span",{className:"screen-reader-text"},/* translators: Hidden accessibility text. */ /* translators: Hidden accessibility text. */
(0,i.__)("Help on keyphrase synonyms","wordpress-seo-premium")));return(0,r.createElement)(y.ThemeProvider,{theme:e},(0,r.createElement)(a.Fragment,null,(0,r.createElement)(o.Fill,{name:"yoast-synonyms-metabox"},(0,r.createElement)(qe,{id:"synonyms-input-metabox",label:(0,i.__)("Keyphrase synonyms","wordpress-seo-premium"),helpLink:t})),(0,r.createElement)(o.Fill,{name:"yoast-synonyms-sidebar"},(0,r.createElement)(qe,{id:"synonyms-input-sidebar",label:(0,i.__)("Keyphrase synonyms","wordpress-seo-premium"),helpLink:t}))))};cs.propTypes={theme:d().object.isRequired};const us=Xt((({theme:e})=>(0,r.createElement)(y.ThemeProvider,{theme:e},(0,r.createElement)(Le,null)))),ds=function(){const s=(0,k.registerStore)("yoast-seo-premium/editor",{reducer:(0,k.combineReducers)({...t,[Xe]:st}),actions:{...(0,c.pickBy)(e,c.isFunction),...tt},selectors:{...n,...et}});s.dispatch(tt.setPluginUrl((0,c.get)(window,"wpseoPremiumMetaboxData.data.pluginUrl",""))),function(e){const t=e.dispatch,s=os()?"hidden_wpseo":"yoast_wpseo",n=document.getElementById(s+"_focuskeywords"),r=document.getElementById(s+"_keywordsynonyms"),o=is(n.value),a=is(r.value),i=a.shift()||"";t(z(o.map(((e,t)=>{const s=a[t];return{keyword:e.keyword,score:e.score,synonyms:s}})))),t(H(i))}(s);const u=s.getState();let y=u.synonyms,p=Vt.getRelevantData(u);b();let m=null;h()&&(m=function(e){const t=e.dispatch.bind(e);t(A());const s=new Bt({dispatch:t,rootUrl:(0,c.get)(rs,"restApi.root",""),nonce:(0,c.get)(rs,"restApi.nonce",""),currentObjectId:rs.currentObjectId,currentObjectType:rs.currentObjectType,showUnindexedWarning:rs.linkSuggestionsUnindexed,maxWordsToSave:rs.perIndexableLimit});return YoastSEO.analysis.linkSuggester=s,(e=>{const t=document.getElementById("yoast_internal_linking");if(!t)return;jQuery(t).addClass("closed");const s=({children:e})=>{const[s,n]=(0,a.useState)(jQuery(t).hasClass("closed"));return(0,a.useEffect)((()=>{const e=()=>{n(jQuery(t).hasClass("closed"))};return jQuery(t).find("div.postbox-header").on("click",e),()=>{jQuery(t).find("div.postbox-header").off("click",e)}}),[]),jQuery(t).find("button.handlediv").on("click",(()=>{n(jQuery(t).hasClass("closed"))})),(0,r.createElement)(a.Fragment,null,!s&&e)};s.propTypes={children:d().node.isRequired},(0,a.render)((0,r.createElement)(s,null,(0,r.createElement)(Se,{suggester:e,location:"classic-sidebar"})),t.getElementsByClassName("inside")[0])})(s),s}(s));const f=new Ut,E=new Vt;f.saveCurrentValues(s.getState()),as()&&jQuery(window).on("YoastSEO:numericScore",(()=>{E.analyze(s.getState(),s.dispatch)})),s.subscribe((()=>{const e=s.getState();y!==e.synonyms&&(y=e.synonyms,YoastSEO.app.refresh()),f.persist(e);const t=Vt.getRelevantData(e);Vt.shouldAnalyze(t,p)&&(p=t,E.analyze(e,s.dispatch))})),YoastSEO.app.registerCustomDataCallback((()=>({synonyms:s.getState().synonyms}))),function(e,t){const s={isRtl:Zt().isRtl};if(Qt()){const{registerPlugin:n}=wp.plugins;n("yoast-seo-premium",{render:()=>(0,r.createElement)(a.Fragment,null,(0,r.createElement)(o.Fill,{name:"YoastSidebar"},(0,r.createElement)(us,{key:"warning-premium",renderPriority:1,store:e,theme:s}),as()&&(0,r.createElement)(ls,{key:"related-keywords",renderPriority:22,store:e,theme:s,location:"sidebar"}),h()&&t&&(0,r.createElement)(Jt,{key:"link-suggestions",renderPriority:24},(0,r.createElement)(ts,{store:e,theme:s,location:"sidebar"},(0,r.createElement)(ss,{id:"yoast-linking-suggestions-collapsible-sidebar",title:(0,i.__)("Internal linking suggestions","wordpress-seo-premium")},(0,r.createElement)(Se,{suggester:t,location:"block-sidebar"}))))),(0,r.createElement)(o.Fill,{name:"YoastMetabox"},as()&&(0,r.createElement)(ls,{key:"related-keywords",renderPriority:21,store:e,theme:s,location:"metabox"}),(0,r.createElement)(us,{renderPriority:1,store:e,theme:s}),h()&&t&&(0,r.createElement)(Jt,{key:"link-suggestions",renderPriority:25},(0,r.createElement)(ts,{store:e,theme:s,location:"metabox"},(0,r.createElement)(ns,{id:"yoast-linking-suggestions-collapsible-metabox",title:(0,i.__)("Internal linking suggestions","wordpress-seo-premium")},(0,r.createElement)(Se,{suggester:t,location:"block-metabox"}))))),(0,r.createElement)(cs,{store:e,theme:s}),(0,r.createElement)(o.Fill,{name:"YoastRelatedKeyphrases"},(0,r.createElement)($e,null)),(0,l.isFeatureEnabled)("TEXT_FORMALITY")&&(0,r.createElement)(o.Fill,{name:"YoastTextFormalityMetabox"},(0,r.createElement)(S,null)),(0,l.isFeatureEnabled)("TEXT_FORMALITY")&&(0,r.createElement)(o.Fill,{name:"YoastTextFormalitySidebar"},(0,r.createElement)(S,null)),!!rs.workoutsUrl&&(0,r.createElement)(g,{link:rs.workoutsUrl}))})}else YoastSEO._registerReactComponent("yoast-seo-premium",(()=>(0,r.createElement)(a.Fragment,null,(0,r.createElement)(o.Fill,{name:"YoastMetabox"},as()&&(0,r.createElement)(ls,{key:"related-keywords",renderPriority:21,store:e,theme:s,location:"metabox"}),(0,r.createElement)(us,{key:"warning-premium",renderPriority:1,store:e,theme:s}),h()&&t&&!os()&&(0,r.createElement)(Jt,{key:"link-suggestions",renderPriority:25},(0,r.createElement)(ts,{store:e,theme:s,location:"metabox"},(0,r.createElement)(ns,{id:"yoast-linking-suggestions-collapsible-classic-metabox",title:(0,i.__)("Internal linking suggestions","wordpress-seo-premium")},(0,r.createElement)(Se,{suggester:t,location:"classic-metabox"}))))),(0,r.createElement)(cs,{store:e,theme:s}),(0,r.createElement)(o.Fill,{name:"YoastRelatedKeyphrases"},(0,r.createElement)($e,{store:e})),(0,l.isFeatureEnabled)("TEXT_FORMALITY")&&(0,r.createElement)(o.Fill,{name:"YoastTextFormalityMetabox"},(0,r.createElement)(S,null)),!!rs.workoutsUrl&&(0,r.createElement)(g,{link:rs.workoutsUrl}))))}(s,m),function(e){const t=w();if(!yoast.analysis.helpers.getLanguagesWithWordFormSupport().includes(t))return;const s=e.dispatch.bind(e);s(P()),new qt({siteUrl:rs.licensedURL,language:t,setError:e=>{s(W(e))}}).injectMorphologyData()}(s),YoastSEO.app.refresh()};window.jQuery((function(){window.jQuery(window).on("YoastSEO:ready",(()=>{var e,t;if(window.wpseoPremiumMetaboxData)try{ds(),(0,l.isFeatureEnabled)("TEXT_FORMALITY")&&(t=window.wpseoPremiumMetaboxData.data.textFormalityScriptUrl,"undefined"!=typeof YoastSEO&&void 0!==YoastSEO.analysis&&void 0!==YoastSEO.analysis.worker&&YoastSEO.analysis.worker.loadScript(t).then((0,k.dispatch)("yoast-seo/editor").runAnalysis)),function(e,t={}){if("undefined"==typeof YoastSEO||void 0===YoastSEO.analysis||void 0===YoastSEO.analysis.worker)return;const s=YoastSEO.analysis.worker;s.loadScript(e).then((()=>s.sendMessage("initialize",{options:t},"YoastSEOPremium")))}(window.wpseoPremiumMetaboxData.data.premiumAssessmentsScriptUrl,{isTitleAssessmentAvailable:window.wpseoPremiumMetaboxData.data.isTitleAssessmentAvailable,isTextAlignmentAssessmentAvailable:Qt(),language:w()}),e=window.wpseoPremiumJSL10n,YoastSEO.analysis.worker.initialize({translations:e})}catch(e){console.error(e)}}))}))})()})();