(()=>{var e={16951:(e,t)=>{var s;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var a=typeof s;if("string"===a||"number"===a)e.push(s);else if(Array.isArray(s)){if(s.length){var i=n.apply(null,s);i&&e.push(i)}}else if("object"===a){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){e.push(s.toString());continue}for(var o in s)r.call(s,o)&&s[o]&&e.push(o)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(s=function(){return n}.apply(t,[]))||(e.exports=s)}()}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React,t=window.wp.data,r=window.wp.domReady;var n=s.n(r);const a=window.wp.element,i=window.wp.i18n,o=window.yoast.uiLibrary;var l=s(16951),c=s.n(l);const u=window.lodash,m=window.yoast.reduxJsToolkit,d="adminUrl",y=(0,m.createSlice)({name:d,initialState:"",reducers:{setAdminUrl:(e,{payload:t})=>t}}),p=(y.getInitialState,{selectAdminUrl:e=>(0,u.get)(e,d,"")});p.selectAdminLink=(0,m.createSelector)([p.selectAdminUrl,(e,t)=>t],((e,t)=>{try{return new URL(t,e).href}catch(t){return e}})),y.actions,y.reducer;const g=window.wp.apiFetch;var w=s.n(g);const f="hasConsent",h=`${f}/storeConsent`,v=(0,m.createSlice)({name:f,initialState:!1,reducers:{giveAiGeneratorConsent:(e,{payload:t})=>t}}),E=v.getInitialState,b={selectHasAiGeneratorConsent:e=>(0,u.get)(e,f,!1)},x={...v.actions,storeAiGeneratorConsent:function*(e){try{yield{type:h,payload:e}}catch(e){return!1}return yield{type:`${f}/giveAiGeneratorConsent`,payload:e},!0}},k={[h]:async({payload:e})=>await w()({path:"yoast/v1/ai_generator/consent",method:"POST",data:{consent:e},parse:!1})},S=v.reducer,R="pluginUrl",C=(0,m.createSlice)({name:R,initialState:"",reducers:{setPluginUrl:(e,{payload:t})=>t}}),_=C.getInitialState,L={selectPluginUrl:e=>(0,u.get)(e,R,"")};L.selectImageLink=(0,m.createSelector)([L.selectPluginUrl,(e,t,s="assets/images")=>s,(e,t)=>t],((e,t,s)=>[(0,u.trimEnd)(e,"/"),(0,u.trim)(t,"/"),(0,u.trimStart)(s,"/")].join("/")));const N=C.actions,P=C.reducer,q=window.wp.url,A="linkParams",$=(0,m.createSlice)({name:A,initialState:{},reducers:{setLinkParams:(e,{payload:t})=>t}}),I=$.getInitialState,M={selectLinkParam:(e,t,s={})=>(0,u.get)(e,`${A}.${t}`,s),selectLinkParams:e=>(0,u.get)(e,A,{})};M.selectLink=(0,m.createSelector)([M.selectLinkParams,(e,t)=>t],((e,t)=>(0,q.addQueryArgs)(t,e)));const G=$.actions,O=$.reducer,B="request",T="success",U="error",j="idle",W="loading",z="wistiaEmbedPermission",F=(0,m.createSlice)({name:z,initialState:{value:!1,status:j,error:{}},reducers:{setWistiaEmbedPermissionValue:(e,{payload:t})=>{e.value=Boolean(t)}},extraReducers:e=>{e.addCase(`${z}/${B}`,(e=>{e.status=W})),e.addCase(`${z}/${T}`,((e,{payload:t})=>{e.status="success",e.value=Boolean(t&&t.value)})),e.addCase(`${z}/${U}`,((e,{payload:t})=>{e.status="error",e.value=Boolean(t&&t.value),e.error={code:(0,u.get)(t,"error.code",500),message:(0,u.get)(t,"error.message","Unknown")}}))}}),D=F.getInitialState,H={selectWistiaEmbedPermission:e=>(0,u.get)(e,z,{value:!1,status:j}),selectWistiaEmbedPermissionValue:e=>(0,u.get)(e,[z,"value"],!1),selectWistiaEmbedPermissionStatus:e=>(0,u.get)(e,[z,"status"],j),selectWistiaEmbedPermissionError:e=>(0,u.get)(e,[z,"error"],{})},Y={...F.actions,setWistiaEmbedPermission:function*(e){yield{type:`${z}/${B}`};try{return yield{type:z,payload:e},{type:`${z}/${T}`,payload:{value:e}}}catch(t){return{type:`${z}/${U}`,payload:{error:t,value:e}}}}},J={[z]:async({payload:e})=>w()({path:"/yoast/v1/wistia_embed_permission",method:"POST",data:{value:Boolean(e)}})},V=F.reducer,Q=window.yoast.propTypes;var K=s.n(Q);const X=e.forwardRef((function(t,s){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:s},t),e.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))})),Z=(e,t)=>{try{return(0,a.createInterpolateElement)(e,t)}catch(t){return console.error("Error in translation for:",e,t),e}};K().string.isRequired,K().shape({src:K().string.isRequired,width:K().string,height:K().string}).isRequired,K().shape({value:K().bool.isRequired,status:K().string.isRequired,set:K().func.isRequired}).isRequired,K().string.isRequired,K().shape({src:K().string.isRequired,width:K().string,height:K().string}).isRequired,K().shape({value:K().bool.isRequired,status:K().string.isRequired,set:K().func.isRequired}).isRequired;const ee=({href:t,children:s,...r})=>(0,e.createElement)(o.Link,{target:"_blank",rel:"noopener noreferrer",...r,href:t},s,(0,e.createElement)("span",{className:"yst-sr-only"},/* translators: Hidden accessibility text. */ /* translators: Hidden accessibility text. */
(0,i.__)("(Opens in a new browser tab)","wordpress-seo-premium")));ee.propTypes={href:K().string.isRequired,children:K().node},ee.defaultProps={children:null};window.yoast.reactHelmet;K().string.isRequired,K().shape({src:K().string.isRequired,width:K().string,height:K().string}).isRequired,K().shape({value:K().bool.isRequired,status:K().string.isRequired,set:K().func.isRequired}).isRequired;const te=({onGiveConsent:t,learnMoreLink:s,privacyPolicyLink:r,termsOfServiceLink:n,imageLink:l})=>{const{onClose:c,initialFocus:u}=(0,o.useModalContext)(),[m,d]=(0,o.useToggleState)(!1),y=(0,a.useCallback)((()=>{c(),t()}),[t,c]),p=(0,a.useMemo)((()=>({src:l,width:"432",height:"244"})),[l]),g=Z((0,i.sprintf)(/* translators: %1$s and %2$s are a set of anchor tags and %3$s and %4$s are a set of anchor tags. */ /* translators: %1$s and %2$s are a set of anchor tags and %3$s and %4$s are a set of anchor tags. */
(0,i.__)("I approve the %1$sTerms of Service%2$s & %3$sPrivacy Policy%4$s of the Yoast AI service. This includes consenting to the collection and use of data to improve user experience.","wordpress-seo-premium"),"<a1>","</a1>","<a2>","</a2>"),{a1:(0,e.createElement)(ee,{href:n}),a2:(0,e.createElement)(ee,{href:r})});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"yst-px-10 yst-pt-10 yst-introduction-gradient yst-text-center"},(0,e.createElement)("div",{className:"yst-relative yst-w-full"},(0,e.createElement)("img",{className:"yst-w-full yst-h-auto yst-rounded-md yst-drop-shadow-md",alt:"",loading:"lazy",decoding:"async",...p}))),(0,e.createElement)("div",{className:"yst-px-10 yst-pb-4 yst-flex yst-flex-col yst-items-center"},(0,e.createElement)("div",{className:"yst-mt-4 yst-mx-1.5 yst-text-center"},(0,e.createElement)("h3",{className:"yst-text-slate-900 yst-text-lg yst-font-medium"},(0,i.sprintf)(/* translators: %s expands to Yoast AI. */ /* translators: %s expands to Yoast AI. */
(0,i.__)("Grant consent for %s","wordpress-seo-premium"),"Yoast AI")),(0,e.createElement)("div",{className:"yst-mt-2 yst-text-slate-600 yst-text-sm"},Z((0,i.sprintf)(/* translators: %1$s is a break tag; %2$s and %3$s are anchor tag; %4$s is the arrow icon. */ /* translators: %1$s is a break tag; %2$s and %3$s are anchor tag; %4$s is the arrow icon. */
(0,i.__)("Enable AI-powered SEO! Use all AI Generate and Optimize features to boost your efficiency. Just give us the green light. %1$s%2$sLearn more%3$s%4$s","wordpress-seo-premium"),"<br/>","<a>","<ArrowNarrowRightIcon />","</a>"),{a:(0,e.createElement)(ee,{href:s,className:"yst-inline-flex yst-items-center yst-gap-1 yst-no-underline yst-font-medium",variant:"primary"}),ArrowNarrowRightIcon:(0,e.createElement)(X,{className:"yst-w-4 yst-h-4 rtl:yst-rotate-180"}),br:(0,e.createElement)("br",null)}))),(0,e.createElement)("div",{className:"yst-flex yst-w-full yst-mt-6"},(0,e.createElement)("hr",{className:"yst-w-full yst-text-gray-200"})),(0,e.createElement)("div",{className:"yst-flex yst-items-start yst-mt-4"},(0,e.createElement)("input",{type:"checkbox",id:"yst-ai-consent-checkbox",name:"yst-ai-consent-checkbox",checked:m,value:m?"true":"false",onChange:d,className:"yst-checkbox__input",ref:u}),(0,e.createElement)("label",{htmlFor:"yst-ai-consent-checkbox",className:"yst-label yst-checkbox__label yst-text-xs yst-font-normal yst-text-slate-500"},g)),(0,e.createElement)("div",{className:"yst-w-full yst-flex yst-mt-4"},(0,e.createElement)(o.Button,{as:"button",className:"yst-grow",size:"large",disabled:!m,onClick:y},(0,i.__)("Grant consent","wordpress-seo-premium"))),(0,e.createElement)(o.Button,{as:"button",className:"yst-mt-4",variant:"tertiary",onClick:c},(0,i.__)("Close","wordpress-seo-premium"))))};te.propTypes={onGiveConsent:K().func.isRequired,learnMoreLink:K().string.isRequired,privacyPolicyLink:K().string.isRequired,termsOfServiceLink:K().string.isRequired,imageLink:K().string.isRequired};const se="yoast-seo-premium/manage-ai-consent-button",re=({onStartGenerating:s})=>{const r=(0,t.useSelect)((e=>e(se).selectLink("https://yoa.st/ai-fix-assessments-terms-of-service")),[]),n=(0,t.useSelect)((e=>e(se).selectLink("https://yoa.st/ai-fix-assessments-privacy-policy")),[]),i=(0,t.useSelect)((e=>e(se).selectLink("https://yoa.st/ai-fix-assessments-consent-learn-more")),[]),o=(0,t.useSelect)((e=>e(se).selectImageLink("ai-consent.png")),[]),{storeAiGeneratorConsent:l}=(0,t.useDispatch)(se),c=(0,a.useCallback)((()=>{l(!0),s()}),[l,s]);return(0,e.createElement)(te,{imageLink:o,onGiveConsent:c,learnMoreLink:i,termsOfServiceLink:r,privacyPolicyLink:n})};re.propTypes={onStartGenerating:K().func.isRequired};const ne=e.forwardRef((function(t,s){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:s},t),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))})),ae=({onClose:s})=>{const{storeAiGeneratorConsent:r}=(0,t.useDispatch)(se),[n,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),m=(0,a.useCallback)((async()=>{if(u(!1),l(!0),!1===await r(!1))return u(!0),void l(!1);s(),l(!1)}),[r,l,s]);return(0,e.createElement)("div",{className:"yst-flex yst-flex-row"},(0,e.createElement)("span",{className:"yst-shrink-0 yst-h-12 yst-w-12 yst-rounded-full yst-flex yst-justify-center yst-items-center yst-mb-3 yst-me-5 yst-bg-red-100"},(0,e.createElement)(ne,{className:"yst-w-6 yst-h-6 yst-align-center yst-text-red-600"})),(0,e.createElement)("div",null,(0,e.createElement)(o.Modal.Title,{className:"yst-font-semibold",as:"h3",size:"4"},(0,i.__)("Revoke AI consent","wordpress-seo-premium")),c&&(0,e.createElement)(o.Alert,{className:"yst-mt-2",variant:"error"},(0,i.__)("Something went wrong, please try again later.","wordpress-seo-premium")),(0,e.createElement)("p",{className:"yst-mt-2 yst-text-slate-600"},(0,i.__)("By revoking your consent, you will no longer have access to Yoast AI features. Are you sure you want to revoke your consent?","wordpress-seo-premium")),(0,e.createElement)("footer",{className:"yst-mt-6 sm:yst-flex sm:yst-flex-row-reverse"},(0,e.createElement)(o.Button,{variant:"error",isLoading:n,className:"yst-w-full sm:yst-w-auto yst-revoke-button",onClick:m},(0,i.__)("Yes, revoke consent","wordpress-seo-premium")),(0,e.createElement)(o.Button,{variant:"secondary",className:"yst-w-full sm:yst-w-auto yst-me-3",onClick:s},(0,i.__)("Close","wordpress-seo-premium")))))};ae.propTypes={onClose:K().func.isRequired};const ie=(e={})=>{(0,t.register)((e=>(0,t.createReduxStore)(se,{actions:{...x,...N,...G,...Y},selectors:{...b,...L,...M,...H},initialState:(0,u.merge)({},{[f]:E(),[R]:_(),[A]:I(),[z]:D()},e),reducer:(0,t.combineReducers)({[f]:S,[R]:P,[A]:O,[z]:V}),controls:{...k,...J}}))(e))},{setTextdomainL10n:oe}=window.yoast.editorModules.helpers.i18n;oe("wordpress-seo-premium","wpseoPremiumJSL10n"),n()((()=>{const s=(0,u.get)(window,"yoast.editorModules.sharedAdmin.store.WISTIA_EMBED_PERMISSION_NAME","wistiaEmbedPermission");ie({[f]:"1"===(0,u.get)(window,"wpseoPremiumManageAiConsentButton.hasConsent",!1),[R]:(0,u.get)(window,"wpseoPremiumManageAiConsentButton.pluginUrl",""),[s]:{value:"1"===(0,u.get)(window,"wpseoPremiumManageAiConsentButton.wistiaEmbedPermission",!1)}});const r=document.getElementById("ai-generator-consent");r&&(0,a.render)((0,e.createElement)((()=>{const s=(0,t.useSelect)((e=>e(se).selectHasAiGeneratorConsent()),[]),[r,,,n,l]=(0,o.useToggleState)(!1),u=(0,a.useRef)(null),m=(0,a.useCallback)((e=>{e.preventDefault(),n()}),[n]);return(0,e.createElement)(a.Fragment,null,(0,e.createElement)(o.Modal,{className:"yst-introduction-modal",isOpen:r,onClose:l,initialFocus:u},(0,e.createElement)(o.Modal.Panel,{className:c()(!s&&"yst-p-0 yst-max-w-lg yst-rounded-3xl",s&&"yst-max-w-xl yst-rounded-lg")},!s&&(0,e.createElement)(re,{onStartGenerating:l,focusElementRef:u}),s&&(0,e.createElement)(ae,{onClose:l}))),(0,e.createElement)("button",{className:"button",id:"ai-generator-consent-button",onClick:m},s?(0,i.__)("Revoke consent","wordpress-seo-premium"):(0,i.__)("Grant consent","wordpress-seo-premium")))}),null),r)}))})()})();