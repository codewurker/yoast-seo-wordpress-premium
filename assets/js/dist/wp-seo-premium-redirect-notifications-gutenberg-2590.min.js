(()=>{"use strict";var e={865:(e,t,n)=>{var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=a(n(609)),i=a(n(848)),s=a(n(812));function a(e){return e&&e.__esModule?e:{default:e}}var c=void 0;function l(e,t){var n,s,a,u,d,p,f,h,m=[],v={};for(p=0;p<e.length;p++)if("string"!==(d=e[p]).type){if(!t.hasOwnProperty(d.value)||void 0===t[d.value])throw new Error("Invalid interpolation, missing component node: `"+d.value+"`");if("object"!==o(t[d.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+d.value+"`","\n> "+c);if("componentClose"===d.type)throw new Error("Missing opening component token: `"+d.value+"`");if("componentOpen"===d.type){n=t[d.value],a=p;break}m.push(t[d.value])}else m.push(d.value);return n&&(u=function(e,t){var n,o,r=t[e],i=0;for(o=e+1;o<t.length;o++)if((n=t[o]).value===r.value){if("componentOpen"===n.type){i++;continue}if("componentClose"===n.type){if(0===i)return o;i--}}throw new Error("Missing closing component token `"+r.value+"`")}(a,e),f=l(e.slice(a+1,u),t),s=r.default.cloneElement(n,{},f),m.push(s),u<e.length-1&&(h=l(e.slice(u+1),t),m=m.concat(h))),1===m.length?m[0]:(m.forEach((function(e,t){e&&(v["interpolation-child-"+t]=e)})),(0,i.default)(v))}t.A=function(e){var t=e.mixedString,n=e.components,r=e.throwErrors;if(c=t,!n)return t;if("object"!==(void 0===n?"undefined":o(n))){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var i=(0,s.default)(t);try{return l(i,n)}catch(e){if(r)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},812:e=>{function t(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(t)}},848:(e,t,n)=>{var o=n(609),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=n(650),s=n(163),a=n(759),c=".",l=":",u="function"==typeof Symbol&&Symbol.iterator,d="@@iterator";function p(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,o={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return o[e]}))):t.toString(36);var n,o}function f(e,t,n,o){var i,a=typeof e;if("undefined"!==a&&"boolean"!==a||(e=null),null===e||"string"===a||"number"===a||"object"===a&&e.$$typeof===r)return n(o,e,""===t?c+p(e,0):t),1;var h=0,m=""===t?c:t+l;if(Array.isArray(e))for(var v=0;v<e.length;v++)h+=f(i=e[v],m+p(i,v),n,o);else{var y=function(e){var t=e&&(u&&e[u]||e[d]);if("function"==typeof t)return t}(e);if(y)for(var w,g=y.call(e),b=0;!(w=g.next()).done;)h+=f(i=w.value,m+p(i,b++),n,o);else if("object"===a){var j=""+e;s(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===j?"object with keys {"+Object.keys(e).join(", ")+"}":j,"")}}return h}var h=/\/+/g;function m(e){return(""+e).replace(h,"$&/")}var v,y,w=g,g=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)};function b(e,t,n,o){this.result=e,this.keyPrefix=t,this.func=n,this.context=o,this.count=0}function j(e,t,n){var r,s,a=e.result,c=e.keyPrefix,l=e.func,u=e.context,d=l.call(u,t,e.count++);Array.isArray(d)?x(d,a,n,i.thatReturnsArgument):null!=d&&(o.isValidElement(d)&&(r=d,s=c+(!d.key||t&&t.key===d.key?"":m(d.key)+"/")+n,d=o.cloneElement(r,{key:s},void 0!==r.props?r.props.children:void 0)),a.push(d))}function x(e,t,n,o,r){var i="";null!=n&&(i=m(n)+"/");var s=b.getPooled(t,i,o,r);!function(e,t,n){null==e||f(e,"",t,n)}(e,j,s),b.release(s)}b.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},v=function(e,t,n,o){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n,o),i}return new r(e,t,n,o)},(y=b).instancePool=[],y.getPooled=v||w,y.poolSize||(y.poolSize=10),y.release=function(e){var t=this;s(e instanceof t,"Trying to release an instance into a pool of a different type."),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return a(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(o.isValidElement(e))return a(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;s(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)x(e[n],t,n,i.thatReturnsArgument);return t}},650:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},163:e=>{e.exports=function(e,t,n,o,r,i,s,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,r,i,s,a],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},759:(e,t,n)=>{var o=n(650);e.exports=o},609:e=>{e.exports=window.React}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=window.wp.components,t=window.wp.element,o=window.wp.i18n,r=window.yoast.helpers;var i=n(865);const s=window.yoast.propTypes;var a=n.n(s);const c=window.wp.apiFetch;var l=n.n(c);function u(e){return(t,n)=>{if(void 0===t.method||"GET"===t.method)return n(t);const r=void 0===t.parse||t.parse;return n({...t,parse:!1}).then((t=>{let n=null;return t.headers&&"function"==typeof t.headers.get&&(n=t.headers.get("X-Yoast-Redirect-Created")),n&&e(n),t.json&&r?t.json():t})).catch((e=>function(e,t=!0){if(!t)throw e;return(e=>{const t={code:"invalid_json",message:(0,o.__)("The response is not a valid JSON response.")};if(!e||!e.json)throw t;return e.json().catch((()=>{throw t}))})(e).then((e=>{const t={code:"unknown_error",message:(0,o.__)("An unknown error occurred.")};throw e||t}))}(e,r)))}}const d=[];let p=!1;function f(e){var t;t=e.split(";").map((e=>e.split("=").map((e=>e.trim())))).reduce(((e,t)=>{const n=t[0],o=t[1]||!0;return e[n]=o,e}),{}),d.forEach((e=>e(t)))}const h=window.ReactJSXRuntime,m=(0,r.makeOutboundLink)(),v=({href:e,children:t})=>(0,h.jsx)(m,{href:e,children:t});v.defaultProps={children:""},v.propTypes={href:a().string.isRequired,children:a().string};class y extends t.Component{constructor(){super(),this.state={open:!1,loading:!1,parsedHeader:null},this.close=this.close.bind(this),this.undoRedirect=this.undoRedirect.bind(this)}render(){return this.state.open?(0,h.jsxs)(e.Modal,{title:(0,o.__)("Redirect created","wordpress-seo-premium"),onRequestClose:this.close,className:"yoast-redirect-notification-modal",children:[(0,h.jsx)("p",{children:(0,o.sprintf)(/* translators: %s expands to Yoast SEO Premium */ /* translators: %s expands to Yoast SEO Premium */
(0,o.__)("%s just created a redirect from the old URL to the new URL.","wordpress-seo-premium"),"Yoast SEO Premium")}),(0,h.jsx)("p",{className:"yoast-redirect-notification-modal-url",children:(0,i.A)({mixedString:(0,o.sprintf)(/* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */ /* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */
(0,o.__)("Old URL: {{link}}%s{{/link}}","wordpress-seo-premium"),`${window.location.origin}/${this.state.parsedHeader.origin}`),components:{link:(0,h.jsx)(v,{href:"/"+this.state.parsedHeader.origin})}})}),(0,h.jsx)("p",{className:"yoast-redirect-notification-modal-url",children:(0,i.A)({mixedString:(0,o.sprintf)(/* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */ /* translators: {{link}}%s{{/link}} expands to a URL surrounded by anchor tags */
(0,o.__)("New URL: {{link}}%s{{/link}}","wordpress-seo-premium"),`${window.location.origin}/${this.state.parsedHeader.target}`),components:{link:(0,h.jsx)(v,{href:"/"+this.state.parsedHeader.target})}})}),(0,h.jsxs)("div",{className:"yoast-redirect-notification-modal-buttons",children:[(0,h.jsx)(e.Button,{className:"yoast-redirect-notification-modal-button",onClick:this.close,isPrimary:!0,disabled:this.state.loading,children:(0,o.__)("OK","wordpress-seo-premium")}),(0,h.jsx)(e.Button,{className:"yoast-redirect-notification-modal-button",onClick:this.undoRedirect,isLink:!0,isDestructive:!0,isBusy:this.state.loading,disabled:this.state.loading,children:(0,o.__)("Undo","wordpress-seo-premium")})]})]}):null}undoRedirect(){const{objectId:e,objectType:t}=this.state.parsedHeader;this.setState({loading:!0},(()=>{(function(e,t){return l()({method:"POST",url:wpApiSettings.root+"yoast/v1/redirects/undo-for-object",headers:{"X-WP-Nonce":wpApiSettings.nonce},data:{obj_id:e,obj_type:t}})})(e,t).then((()=>{this.close()}))}))}close(){this.setState({open:!1,loading:!1,parsedHeader:null})}componentDidMount(){!function(e){if(!p){const e=u(f);l().use(e),p=!0}d.push(e)}((e=>{this.setState({open:!0,parsedHeader:e})}))}}const w=y;wp.plugins.registerPlugin("yoast-redirect-notification",{render:w})})()})();