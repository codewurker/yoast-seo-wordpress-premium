(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var r in s)e.o(s,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:s[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.data,s=window.wp.domReady;var r=e.n(s);const o=window.lodash,a=window.wp.blocks,n=window.wp.blockEditor,i=window.wp.components,l=window.wp.element,u=window.wp.i18n,c=window.yoast.aiFrontend,d=window.yoast.uiLibrary,m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"version":"23.0","name":"yoast-seo/ai-summarize","title":"Yoast AI Summarize","description":"Adds a short AI summary of your content.","category":"yoast-ai-blocks","icon":"editor-ul","keywords":["summary","tldr","key takeaways"],"textdomain":"wordpress-seo-premium","attributes":{"title":{"type":"string","source":"html","selector":"h2,h3,h4,h5,h6","default":"Key Takeaways"},"level":{"type":"number","default":2},"status":{"type":"string","default":"idle"}},"allowedBlocks":["core/list","core/list-item"],"supports":{"html":true,"multiple":false},"example":{"attributes":{"title":"Key Takeaways","level":2,"status":"loaded"},"innerBlocks":[{"name":"core/list","innerBlocks":[{"name":"core/list-item","attributes":{"content":"First key takeaway from the content"}},{"name":"core/list-item","attributes":{"content":"Second important point to remember"}},{"name":"core/list-item","attributes":{"content":"Third summary point for quick reference"}}]}]}}'),p="yoast-seo/editor",y={blockEditor:"core/block-editor"},h="idle",g="error",b=((0,u.__)("AI - Keyphrase density","wordpress-seo-premium"),(0,u.__)("Use keyphrase words in the text frequently but not excessively.","wordpress-seo-premium"),(0,u.__)("AI - Keyphrase in introduction","wordpress-seo-premium"),(0,u.__)("Include words from the keyphrase in the first paragraph of the text.","wordpress-seo-premium"),(0,u.__)("AI - Keyphrase distribution","wordpress-seo-premium"),(0,u.__)("Evenly distribute keyphrase words throughout the text.","wordpress-seo-premium"),(0,u.__)("AI - Keyphrase in subheadings","wordpress-seo-premium"),(0,u.__)("Include at least one word from the keyphrase in each subheading.","wordpress-seo-premium"),(0,u.__)("AI - Sentence length","wordpress-seo-premium"),(0,u.__)("Ensure long sentences are shortened or split for better readability.","wordpress-seo-premium"),(0,u.__)("AI - Paragraph length","wordpress-seo-premium"),(0,u.__)("Ensure long paragraphs are shortened or split for better readability.","wordpress-seo-premium"),"yoast-seo/ai-generator"),w="yoast-seo-premium/ai-summarize",f=["core/paragraph","core/heading","core/list-item","core/table","core/details","core/media-text","core/freeform","core/preformatted","yoast/faq-block","yoast/how-to-block"],k=window.yoast.reduxJsToolkit,x="generatedSummary",S=(0,k.createSlice)({name:x,initialState:{status:h,error:{code:200,message:"",errorIdentifier:""},summary:{title:"Key Takeaways",points:[]}},reducers:{setLoading:e=>{e.status="loading"},setSuccess:(e,{payload:t})=>{e.status="success",e.summary.points=t.data},setError:(e,{payload:t})=>{e.status=g,e.error=t},setErrorStatus:e=>{e.status=g},setIdleStatus:e=>{e.status=h},updateSummaryPoint:(e,{payload:t})=>{const{index:s,content:r}=t;e.summary.points[s]&&(e.summary.points[s]=r)},updateSummaryTitle:(e,{payload:t})=>{e.summary.title=t},updateSummaryPoints:(e,{payload:t})=>{e.summary.points=t}}}),v=S.getInitialState,_={selectGeneratedSummary:e=>(0,o.get)(e,x,""),getSummaryPoints:e=>(0,o.get)(e,[x,"summary","points"],[]),getSummaryTitle:e=>(0,o.get)(e,[x,"summary","title"],""),getFetchError:e=>(0,o.get)(e,[x,"error"],{})},C=S.actions,E=S.reducer,j="promptContentSummarize",M=(0,k.createSlice)({name:j,initialState:{text:"",length:0},reducers:{setPromptContentSummarize:(e,{payload:t})=>t}}),B=M.getInitialState,I={selectPromptContentSummarize:e=>(0,o.get)(e,j,"")},T=M.actions,A=M.reducer,N="AISummarizeButton",R=(0,k.createSlice)({name:N,initialState:{disabledAIButtonsReason:""},reducers:{disableAISummarizeButtons:(e,{payload:t})=>{e.disabledAIButtonsReason=t}}}),L=R.getInitialState,z={getDisabledAISummarizeButtonsReason:e=>(0,o.get)(e,[N,"disabledAIButtonsReason"],"")},q=R.actions,O=R.reducer,P=window.React,F=P.forwardRef((function(e,t){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}))})),G=window.yoast.propTypes;var D=e.n(G);const U=window.ReactJSXRuntime,H=()=>(0,U.jsxs)("div",{className:"yst-flex yst-items-center yst-gap-2",children:[(0,U.jsx)(i.Spinner,{}),(0,U.jsx)("span",{children:(0,u.__)("Summary is being generated...","wordpress-seo-premium")})]}),K=(e,t)=>{try{return(0,l.createInterpolateElement)(e,t)}catch(t){return console.error("Error in translation for:",e,t),e}},V=()=>(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{children:(0,u.__)("Generate a quick summary highlighting the main takeaways from your content.","wordpress-seo-premium")}),(0,U.jsx)("div",{children:(0,u.__)("We suggest placing the summary at the top of your article to help busy readers quickly understand the value.","wordpress-seo-premium")}),(0,U.jsx)("div",{children:K((0,u.__)("<em><strong>Tip: </strong>For the most accurate summary, finalize your content before generating the summary.</em>","wordpress-seo-premium"),{em:(0,U.jsx)("em",{}),strong:(0,U.jsx)("strong",{})})})]}),W=({loading:e,onGenerate:s,isUsageCountLoading:r})=>{const{counts:o,limit:a,disableAIButtonsReason:n}=(0,t.useSelect)((e=>({counts:e(b).selectUsageCount(),limit:e(b).selectUsageCountLimit(),disableAIButtonsReason:e(w).getDisabledAISummarizeButtonsReason()})),[]),m=(0,l.useMemo)((()=>""!==n),[n]),[p,y]=(0,l.useState)(!1),h=(0,l.useCallback)((()=>{m&&y(!0)}),[m]),g=(0,l.useCallback)((()=>{y(!1)}),[]);return(0,U.jsxs)(i.Placeholder,{label:(0,u.__)("AI Summarize","wordpress-seo-premium"),icon:"editor-ul",children:[e&&(0,U.jsx)(H,{}),!e&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(V,{}),(0,U.jsx)("div",{className:"yst-mt-1",children:(0,U.jsxs)("div",{onMouseEnter:h,onMouseLeave:g,children:[p&&(0,U.jsx)("div",{className:"yst-root yst-relative",children:(0,U.jsx)(d.Tooltip,{children:n})}),(0,U.jsxs)(i.Button,{id:"yst-ai-summarize-btn",className:"yst-w-full yst-flex yst-items-center yst-gap-2"+(m?"  yst-opacity-50":""),onClick:s,isPrimary:!0,disabled:m,children:[(0,U.jsx)(F,{className:"yst-inline-block yst-align-middle yst-fill-none yst-w-4 yst-h-4"}),(0,U.jsx)("span",{children:(0,u.__)("Generate summary","wordpress-seo-premium")})]})]})}),(0,U.jsxs)("div",{className:"yst-flex yst-items-center yst-gap-2",children:[(0,U.jsx)("div",{className:"yst-relative",children:(0,U.jsx)(c.UsageCounter,{className:"yst-root"+(r?" yst-mb-4":""),limit:a,requests:o,isSkeleton:r})}),!r&&(0,U.jsx)("p",{className:"yst-text-slate-500",children:K((0,u.__)("<em>You're about to use 1 spark.</em>","wordpress-seo-premium"),{em:(0,U.jsx)("em",{})})})]})]})]})};W.propTypes={loading:D().bool.isRequired,onGenerate:D().func.isRequired,isUsageCountLoading:D().bool.isRequired};const Y=({level:e,title:s,setAttributes:r})=>{const{updateSummaryTitle:o}=(0,t.useDispatch)(w),a=(0,l.useCallback)((e=>{r({title:e}),o(e)}),[r]);return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(n.RichText,{tagName:`h${e}`,value:s||(0,u.__)("Key Takeaways","wordpress-seo-premium"),onChange:a}),(0,U.jsx)(n.InnerBlocks,{template:[["core/list",{className:"yoast-ai-summarize-list"}]],templateLock:"all"})]})};Y.propTypes={level:D().number.isRequired,title:D().string.isRequired,setAttributes:D().func.isRequired};const J=["core/quote","core/cover","yoast-seo/ai-summarize","yoast-seo-local/address","yoast-seo-local/map","yoast-seo-local/opening-hours","yoast-seo-local/store-locator"],$=(e,t)=>e.reduce(((e,s)=>(e=>{var t;return!!(J.includes(e.name)||null!==(t=e.attributes)&&void 0!==t&&t.className&&e.attributes.className.includes("yoast-ai-summarize-list")||(e=>{var t;return!(t=(0,a.getBlockContent)(e),(new DOMParser).parseFromString(t,"text/html").documentElement.textContent).trim()})(e))})(s)?e:t.includes(s.name)?[...e,s]:s.innerBlocks.length>0?[...e,...$(s.innerBlocks,t)]:e),[]),X={ja:e=>Math.round(e.length/2),default:e=>Math.round(e.length/4)},Q=e=>{const{setOnStore:s,activeMarker:r}=e;if(r)return;const o=(()=>{const{getBlocks:e}=(0,t.select)(y.blockEditor),s=$(e(),f).map((e=>(0,a.getBlockContent)(e))).join("\n");return{text:s,length:(e=>{const s=(0,t.select)(p).getContentLocale();return(X[s]||X.default)(e)})(s)}})();(e=>{const{disableAISummarizeButtons:s}=(0,t.dispatch)(w);s(e<200?(0,u.__)("Please add more content to ensure a valuable AI suggestion.","wordpress-seo-premium"):e>1e4?(0,u.__)("Your text is too long for the AI model to process.","wordpress-seo-premium"):"")})(o.length),s(o)},Z=()=>{const{getActiveMarker:e}=(0,t.select)(p),{setPromptContentSummarize:s}=(0,t.dispatch)(w);return()=>{const t=e();Q({setOnStore:s,activeMarker:t})}},ee=(0,o.get)(window,"yoast.editorModules.aiGenerator.components.FeatureError",o.noop),te=({isFeatureErrorModalOpen:e,aiModalHelperLink:s,onClose:r})=>{const{currentSubscriptions:o}=(0,t.useSelect)((e=>({currentSubscriptions:e(b).selectProductSubscriptions()})),[]);return(0,U.jsx)(c.ErrorModal,{title:(0,u.__)("AI Summary","wordpress-seo-premium"),isOpen:e,badgeText:(0,u.__)("Beta","wordpress-seo-premium"),aiModalHelperLink:s,onClose:r,children:(0,U.jsx)(ee,{currentSubscriptions:o})})};te.propTypes={isFeatureErrorModalOpen:D().bool.isRequired,aiModalHelperLink:D().string.isRequired,onClose:D().func.isRequired};const se=(0,o.get)(window,"yoast.editorModules.aiGenerator.components.Introduction",o.noop),re=({shouldOpen:e,handleClose:t,handleStartGenerating:s,initialFocus:r})=>{const o=(0,u.__)("Close modal","wordpress-seo-premium");return(0,U.jsx)(d.Modal,{className:"yst-introduction-modal",isOpen:e,onClose:t,initialFocus:r,children:(0,U.jsx)(d.Modal.Panel,{className:"yst-max-w-lg yst-p-0 yst-rounded-3xl",closeButtonScreenReaderText:o,children:(0,U.jsx)(se,{onStartGenerating:s})})})};re.propTypes={shouldOpen:D().bool.isRequired,handleClose:D().func.isRequired,handleStartGenerating:D().func.isRequired,initialFocus:D().object.isRequired};const oe=(0,o.get)(window,"yoast.editorModules.aiGenerator.components.SuggestionError",o.noop),ae=(0,o.get)(m,"example",{});window.jQuery(window).on("YoastSEO:ready",(()=>{Z(),(0,t.subscribe)((0,o.debounce)((()=>{const{getEditorDataContent:e}=(0,t.select)(p),s=(0,o.get)(window,"yoast.editorModules.helpers.createWatcher",o.noop),r=Z();return setTimeout(r,1500),s(e,r)})(),1500,{maxWait:3e3}))}));const ne=e=>e&&e.nodeType===Node.TEXT_NODE&&!e.nodeValue.trim(),ie=e=>e&&e.nodeType===Node.COMMENT_NODE&&e.nodeValue.trim().startsWith("wp:yoast-seo/ai-summarize"),le=e=>e&&e.nodeType===Node.COMMENT_NODE&&"/wp:yoast-seo/ai-summarize"===e.nodeValue.trim(),ue=e=>{let t=e.previousSibling;for(;ne(t);)t=t.previousSibling;return ie(t)?t:null},ce=e=>{let t=e.nextSibling;for(;ne(t);)t=t.nextSibling;return le(t)?t:null},de=e=>{const{dom:t}=e,s=e.getBody(),r=Array.from(s.querySelectorAll("div.wp-block-yoast-seo-ai-summarize")),o=(e=>{const t=new Set;return e.forEach((e=>{const s=ue(e),r=ce(e);s&&t.add(s),r&&t.add(r)})),t})(r),a=Array.from(s.childNodes).filter((e=>e.nodeType===Node.COMMENT_NODE)),n=a.filter(ie),i=a.filter(le);((e,t,s)=>{t.forEach((t=>{if(s.has(t))return;let r=t.nextSibling;for(;ne(r);)r=r.nextSibling;le(r)?(e.remove(t),e.remove(r)):e.remove(t)}))})(t,n,o),((e,t,s)=>{t.forEach((t=>{s.has(t)||e.remove(t)}))})(t,i,o),((e,t)=>{t.forEach((t=>{const s=ue(t),r=ce(t);if(s&&r&&(e=>{const t=e.querySelector("h2,h3,h4,h5,h6"),s=e.querySelector("ul.yoast-ai-summarize-list");return!(!t||!s)&&!!t.textContent.trim()&&s.querySelectorAll("li").length>=1})(t))return;const o=Array.from(t.childNodes);((e,t)=>{if(1!==t.length)return!1;const s=t[0];return s.nodeType===Node.ELEMENT_NODE&&"P"===s.tagName&&(!s.textContent.trim()||"&nbsp;"===s.innerHTML)})(0,o)||(e=>e.innerHTML.includes("\x3c!-- /wp:list --\x3e")&&!e.innerHTML.includes("\x3c!-- wp:list"))(t)?((e,t,s,r)=>{t&&e.remove(t),s&&e.remove(s),e.remove(r)})(e,s,r,t):((e,t,s,r,o)=>{const a=t||r,n=a.parentNode;o.forEach((e=>{n.insertBefore(e,a)})),t&&e.remove(t),s&&e.remove(s),e.remove(r)})(e,s,r,t,o)}))})(t,r)};((e={})=>{(0,t.register)((e=>(0,t.createReduxStore)(w,{actions:{...C,...T,...q},selectors:{..._,...I,...z},initialState:(0,o.merge)({},{[x]:v(),[j]:B(),[N]:L()},e),reducer:(0,t.combineReducers)({[x]:E,[j]:A,[N]:O})}))(e))})(),(0,a.registerBlockType)(m,{edit({attributes:e,setAttributes:s,clientId:r}){const{title:m,level:h,status:g}=e,{fetchUsageCount:f}=(0,t.useDispatch)(b),{removeBlock:k,replaceInnerBlocks:x}=(0,t.useDispatch)(y.blockEditor),{updateSummaryPoints:S,setIdleStatus:v,setErrorStatus:_}=(0,t.useDispatch)(w),{usageCountEndpoint:C,hasConsent:E,usageCount:j,hasValidPremiumSubscription:M,aiModalHelperLink:B,disableAIButtonsReason:I,summary:T,block:A,fetchError:N,usageCountError:R}=(0,t.useSelect)((e=>({usageCountEndpoint:e(b).selectUsageCountEndpoint(),usageCount:e(b).selectUsageCount(),usageCountError:e(b).selectUsageCountError(),disableAIButtonsReason:e(w).getDisabledAISummarizeButtonsReason(),summary:e(w).getSummaryPoints(),block:e(y.blockEditor).getBlock(r),hasConsent:e(b).selectHasAiGeneratorConsent(),hasValidPremiumSubscription:e(b).selectPremiumSubscription(),aiModalHelperLink:e(p).selectLink("https://yoa.st/ai-summarize-help-button"),fetchError:e(w).getFetchError()})),[]),[L,z]=(0,l.useState)(!1),[q,O]=(0,l.useState)(!1),[P,F]=(0,l.useState)(!E&&M),[G,D]=(0,l.useState)(!1),[H,K]=(0,l.useState)(!1),V=function(){const[e,t]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const e=document.querySelector(".block-editor-block-switcher__container");if(!e)return;const s=()=>{t(!!e.querySelector(".block-editor-block-switcher__transforms__menugroup"))},r=new MutationObserver(s);return r.observe(e,{childList:!0,subtree:!0}),s(),()=>r.disconnect()}),[]),e}(),[J,$]=(0,l.useState)(!1),X=(0,l.useMemo)((()=>""!==I),[I]),Q=(0,l.useRef)(null),Z=(0,n.useBlockProps)({className:"yoast-ai-summarize"}),ee=(0,l.useRef)(!1),se=(0,l.useCallback)((async()=>{if(!M)return K(!0),void _();if(!E)return void F(!0);z(!0),s({status:"loading"});const e=await(async()=>{const e=(0,o.get)(window,"yoast.editorModules.aiGenerator.helpers.fetchSuggestions",o.noop),s=(0,o.get)(window,"yoast.editorModules.aiGenerator.helpers.removesLocaleVariantSuffixes",o.noop),{fetchUsageCount:r}=(0,t.dispatch)(b),a=(0,t.select)(b).selectUsageCountEndpoint(),n=(0,t.select)(p).getContentLocale(),i=(0,t.select)(p).getFocusKeyphrase(),l=(0,t.select)(w).selectPromptContentSummarize().text,{setLoading:u,setError:c,setSuccess:d}=(0,t.dispatch)(w);u();const{status:m,payload:y}=await e({endpoint:"yoast/v1/ai/summarize",canAbort:!0,data:{language:s(n).replace("_","-"),focus_keyphrase:i,prompt_content:l}});switch(m){case"abort":break;case"error":c(y);break;case"success":y?(d({data:y}),r({endpoint:a})):c(y)}return{summary:y,status:m}})();"success"===e.status?(ee.current=!0,s({status:"loaded"}),D(!1),v()):"error"===e.status&&(D(!0),s({status:"failed"})),z(!1)}),[z,s,E,M,D,v]),ne=A.innerBlocks,ie=ne.find((e=>"core/list"===e.name)),le=(0,l.useMemo)((()=>{var e,t;if(!ie||!ie.innerBlocks.length)return!1;const s=ie.innerBlocks[0];return(0,o.isEqual)(A.attributes,ae.attributes)&&"First key takeaway from the content"===(null==s||null===(e=s.attributes)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.text)}),[A,e]);(0,l.useEffect)((()=>{let e=!0;if(e&&!le&&E&&"loaded"!==g&&!j&&!q&&!R.errorCode)return O(!0),f({endpoint:C}).then((({type:t,payload:s})=>{if(e)if("fetchUsageCount/success"===t)O(!1);else if("fetchUsageCount/error"===t){const{errorMessage:e}=s;"CONSENT_REVOKED"===e&&F(!0)}})),()=>{e=!1,O(!1)}}),[f,E,g,j]);const ue=!E&&M&&P&&"loaded"!==g&&!V,ce=(0,l.useCallback)((()=>{F(!1),E||k(r)}),[F,E]),de=(0,l.useCallback)((()=>{O(!1),F(!1)}),[F]),me=(0,l.useMemo)((()=>!M),[M]);(0,l.useEffect)((()=>{me&&(K(!0),_())}),[me,_,K]);const pe=me&&"loaded"!==g&&!V,ye=(0,l.useMemo)((()=>G&&E&&"loaded"!==g),[G,E,g]),he=(0,l.useCallback)((()=>{D(!1),K(!1),v()}),[D,v]),ge=(0,l.useCallback)((()=>{se(),he()}),[se,he]);(0,l.useEffect)((()=>{if(!ie||"loaded"!==g)return;const e=ie.innerBlocks.map((e=>{const t=e.attributes.content;return"string"==typeof t?t:t.text})).filter((e=>e&&""!==e));if(T.length){if(!(0,o.isEqual)(e,T))if(ee.current){const e=T.map((e=>(0,a.createBlock)("core/list-item",{content:e})));x(ie.clientId,e,!1),ee.current=!1}else S(e)}else e.length&&S(e)}),[g,T,ne,S]);const be=(0,l.useMemo)((()=>le||"loaded"===g&&!L&&(!me&&E||T.length>0)),[le,g,L,me,E,T.length]),we=(0,l.useCallback)((e=>s({level:e})),[s]),fe=(0,l.useCallback)((()=>{X&&$(!0)}),[X]),ke=(0,l.useCallback)((()=>{$(!1)}),[]);return(0,U.jsxs)(U.Fragment,{children:["loaded"===g&&!L&&(0,U.jsx)(n.BlockControls,{children:(0,U.jsxs)(i.ToolbarGroup,{children:[(0,U.jsxs)("div",{onMouseEnter:fe,onMouseLeave:ke,children:[J&&(0,U.jsx)("div",{className:"yst-root yst-relative",children:(0,U.jsx)(d.Tooltip,{children:I})}),(0,U.jsx)(i.ToolbarButton,{icon:"update",label:"Regenerate summary",onClick:se,disabled:L||X||!E||!M,children:(0,u.__)("Regenerate summary","wordpress-seo-premium")})]}),(0,U.jsx)(n.HeadingLevelDropdown,{value:h,options:[2,3,4,5,6],onChange:we})]})}),(0,U.jsx)(n.InspectorControls,{children:(0,U.jsx)(i.PanelBody,{title:(0,u.__)("About this block","wordpress-seo-premium"),className:"yoast-ai-summarize-controls",children:(0,U.jsx)("p",{children:(0,u.__)("Create a concise summary of your post, highlighting the key takeaways for your readers.","wordpress-seo-premium")})})}),(0,U.jsxs)("div",{...Z,children:[be&&(0,U.jsx)(Y,{level:h,title:m,setAttributes:s}),"loaded"!==g&&(0,U.jsx)(W,{loading:L,onGenerate:se,isUsageCountLoading:q}),(0,U.jsx)(c.ErrorModal,{title:(0,u.__)("AI Summary","wordpress-seo-premium"),badgeText:(0,u.__)("Beta","wordpress-seo-premium"),isOpen:ye,onClose:he,aiModalHelperLink:B,children:(0,U.jsx)(oe,{errorCode:N.code,errorIdentifier:N.errorIdentifier,invalidSubscriptions:N.missingLicenses,showActions:!0,onRetry:ge,errorMessage:N.message})}),pe&&(0,U.jsx)(te,{isFeatureErrorModalOpen:H,aiModalHelperLink:B,onClose:he}),ue&&(0,U.jsx)(re,{shouldOpen:P,handleStartGenerating:de,initialFocus:Q,handleClose:ce})]})]})},save({attributes:e}){const{title:t,level:s,status:r}=e;if("loaded"!==r)return null;const o=n.useBlockProps.save({className:"yoast-ai-summarize"});return(0,U.jsxs)("div",{...o,children:[(0,U.jsx)(n.RichText.Content,{tagName:`h${s}`,value:t||(0,u.__)("Key Takeaways","wordpress-seo-premium")}),(0,U.jsx)(n.InnerBlocks.Content,{})]})}}),r()((()=>{const e=(0,t.select)(p);("classicEditor"===(null==e?void 0:e.getEditorType())||!e&&"undefined"!=typeof tinyMCE)&&(()=>{const e=document.querySelector("#post");e&&(e.addEventListener("submit",(function(){const e=tinyMCE.get("content");e&&(de(e),e.save())})),e.addEventListener("click",(function(e){if("content-html"===e.target.id){const e=tinyMCE.get("content");if(!e)return;de(e),e.save()}})))})()}))})();